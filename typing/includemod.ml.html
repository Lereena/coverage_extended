<html>
  <head>
    <title>Coverage report</title>
    <link rel="stylesheet" href="../coverage.css" />
    <meta charset="utf-8" />
  </head>
  <body>
    <div id="header">
      <h1>
        <a href="../index.html">
          <span class="dirname">typing/</span>includemod.ml
        </a>
      </h1>
      <h2>89.51%</h2>
    </div>
    <div id="navbar">
      <span class="unvisited" style="top:15.75%"></span>
      <span class="unvisited" style="top:16.33%"></span>
      <span class="unvisited" style="top:23.50%"></span>
      <span class="unvisited" style="top:23.62%"></span>
      <span class="unvisited" style="top:23.74%"></span>
      <span class="unvisited" style="top:23.85%"></span>
      <span class="unvisited" style="top:24.09%"></span>
      <span class="unvisited" style="top:24.44%"></span>
      <span class="unvisited" style="top:24.56%"></span>
      <span class="unvisited" style="top:24.68%"></span>
      <span class="unvisited" style="top:24.79%"></span>
      <span class="unvisited" style="top:25.26%"></span>
      <span class="unvisited" style="top:25.73%"></span>
      <span class="unvisited" style="top:26.09%"></span>
      <span class="unvisited" style="top:26.67%"></span>
      <span class="unvisited" style="top:26.91%"></span>
      <span class="unvisited" style="top:30.32%"></span>
      <span class="unvisited" style="top:32.90%"></span>
      <span class="unvisited" style="top:35.25%"></span>
      <span class="unvisited" style="top:50.53%"></span>
      <span class="unvisited" style="top:60.40%"></span>
      <span class="unvisited" style="top:62.98%"></span>
      <span class="unvisited" style="top:64.98%"></span>
      <span class="unvisited" style="top:65.45%"></span>
      <span class="unvisited" style="top:72.97%"></span>
      <span class="unvisited" style="top:73.09%"></span>
      <span class="unvisited" style="top:74.03%"></span>
      <span class="unvisited" style="top:74.50%"></span>
      <span class="some-visited" style="top:75.91%"></span>
      <span class="unvisited" style="top:76.15%"></span>
      <span class="unvisited" style="top:76.97%"></span>
      <span class="unvisited" style="top:77.44%"></span>
      <span class="unvisited" style="top:79.44%"></span>
      <span class="unvisited" style="top:81.90%"></span>
      <span class="unvisited" style="top:92.95%"></span>
      <span class="unvisited" style="top:95.18%"></span>
      <span class="unvisited" style="top:95.42%"></span>
      <span class="some-visited" style="top:97.77%"></span>
    </div>
    <div id="report">
      <div id="lines-layer">
        <pre>
<a id="L1"></a><span > </span>
<a id="L2"></a><span > </span>
<a id="L3"></a><span > </span>
<a id="L4"></a><span > </span>
<a id="L5"></a><span > </span>
<a id="L6"></a><span > </span>
<a id="L7"></a><span > </span>
<a id="L8"></a><span > </span>
<a id="L9"></a><span > </span>
<a id="L10"></a><span > </span>
<a id="L11"></a><span > </span>
<a id="L12"></a><span > </span>
<a id="L13"></a><span > </span>
<a id="L14"></a><span > </span>
<a id="L15"></a><span > </span>
<a id="L16"></a><span > </span>
<a id="L17"></a><span > </span>
<a id="L18"></a><span > </span>
<a id="L19"></a><span > </span>
<a id="L20"></a><span > </span>
<a id="L21"></a><span > </span>
<a id="L22"></a><span > </span>
<a id="L23"></a><span > </span>
<a id="L24"></a><span > </span>
<a id="L25"></a><span > </span>
<a id="L26"></a><span > </span>
<a id="L27"></a><span > </span>
<a id="L28"></a><span > </span>
<a id="L29"></a><span > </span>
<a id="L30"></a><span > </span>
<a id="L31"></a><span > </span>
<a id="L32"></a><span > </span>
<a id="L33"></a><span > </span>
<a id="L34"></a><span > </span>
<a id="L35"></a><span > </span>
<a id="L36"></a><span > </span>
<a id="L37"></a><span > </span>
<a id="L38"></a><span > </span>
<a id="L39"></a><span > </span>
<a id="L40"></a><span > </span>
<a id="L41"></a><span > </span>
<a id="L42"></a><span > </span>
<a id="L43"></a><span > </span>
<a id="L44"></a><span > </span>
<a id="L45"></a><span > </span>
<a id="L46"></a><span > </span>
<a id="L47"></a><span > </span>
<a id="L48"></a><span > </span>
<a id="L49"></a><span > </span>
<a id="L50"></a><span > </span>
<a id="L51"></a><span > </span>
<a id="L52"></a><span > </span>
<a id="L53"></a><span > </span>
<a id="L54"></a><span > </span>
<a id="L55"></a><span class="visited"> </span>
<a id="L56"></a><span > </span>
<a id="L57"></a><span > </span>
<a id="L58"></a><span > </span>
<a id="L59"></a><span > </span>
<a id="L60"></a><span > </span>
<a id="L61"></a><span class="visited"> </span>
<a id="L62"></a><span > </span>
<a id="L63"></a><span > </span>
<a id="L64"></a><span > </span>
<a id="L65"></a><span > </span>
<a id="L66"></a><span > </span>
<a id="L67"></a><span > </span>
<a id="L68"></a><span > </span>
<a id="L69"></a><span > </span>
<a id="L70"></a><span > </span>
<a id="L71"></a><span > </span>
<a id="L72"></a><span class="visited"> </span>
<a id="L73"></a><span class="visited"> </span>
<a id="L74"></a><span class="visited"> </span>
<a id="L75"></a><span class="visited"> </span>
<a id="L76"></a><span class="visited"> </span>
<a id="L77"></a><span > </span>
<a id="L78"></a><span class="visited"> </span>
<a id="L79"></a><span > </span>
<a id="L80"></a><span > </span>
<a id="L81"></a><span > </span>
<a id="L82"></a><span > </span>
<a id="L83"></a><span > </span>
<a id="L84"></a><span class="visited"> </span>
<a id="L85"></a><span class="visited"> </span>
<a id="L86"></a><span class="visited"> </span>
<a id="L87"></a><span class="visited"> </span>
<a id="L88"></a><span class="visited"> </span>
<a id="L89"></a><span > </span>
<a id="L90"></a><span > </span>
<a id="L91"></a><span > </span>
<a id="L92"></a><span class="visited"> </span>
<a id="L93"></a><span class="visited"> </span>
<a id="L94"></a><span > </span>
<a id="L95"></a><span > </span>
<a id="L96"></a><span > </span>
<a id="L97"></a><span > </span>
<a id="L98"></a><span > </span>
<a id="L99"></a><span class="visited"> </span>
<a id="L100"></a><span class="visited"> </span>
<a id="L101"></a><span class="visited"> </span>
<a id="L102"></a><span class="visited"> </span>
<a id="L103"></a><span class="visited"> </span>
<a id="L104"></a><span > </span>
<a id="L105"></a><span > </span>
<a id="L106"></a><span > </span>
<a id="L107"></a><span > </span>
<a id="L108"></a><span > </span>
<a id="L109"></a><span class="visited"> </span>
<a id="L110"></a><span class="visited"> </span>
<a id="L111"></a><span class="visited"> </span>
<a id="L112"></a><span class="visited"> </span>
<a id="L113"></a><span > </span>
<a id="L114"></a><span > </span>
<a id="L115"></a><span > </span>
<a id="L116"></a><span > </span>
<a id="L117"></a><span class="visited"> </span>
<a id="L118"></a><span class="visited"> </span>
<a id="L119"></a><span class="visited"> </span>
<a id="L120"></a><span class="visited"> </span>
<a id="L121"></a><span > </span>
<a id="L122"></a><span > </span>
<a id="L123"></a><span > </span>
<a id="L124"></a><span > </span>
<a id="L125"></a><span > </span>
<a id="L126"></a><span > </span>
<a id="L127"></a><span > </span>
<a id="L128"></a><span class="visited"> </span>
<a id="L129"></a><span class="visited"> </span>
<a id="L130"></a><span > </span>
<a id="L131"></a><span > </span>
<a id="L132"></a><span class="visited"> </span>
<a id="L133"></a><span > </span>
<a id="L134"></a><span class="unvisited"> </span>
<a id="L135"></a><span > </span>
<a id="L136"></a><span > </span>
<a id="L137"></a><span > </span>
<a id="L138"></a><span class="visited"> </span>
<a id="L139"></a><span class="unvisited"> </span>
<a id="L140"></a><span > </span>
<a id="L141"></a><span > </span>
<a id="L142"></a><span > </span>
<a id="L143"></a><span > </span>
<a id="L144"></a><span > </span>
<a id="L145"></a><span > </span>
<a id="L146"></a><span > </span>
<a id="L147"></a><span > </span>
<a id="L148"></a><span > </span>
<a id="L149"></a><span > </span>
<a id="L150"></a><span > </span>
<a id="L151"></a><span > </span>
<a id="L152"></a><span > </span>
<a id="L153"></a><span > </span>
<a id="L154"></a><span > </span>
<a id="L155"></a><span > </span>
<a id="L156"></a><span > </span>
<a id="L157"></a><span > </span>
<a id="L158"></a><span > </span>
<a id="L159"></a><span > </span>
<a id="L160"></a><span class="visited"> </span>
<a id="L161"></a><span > </span>
<a id="L162"></a><span > </span>
<a id="L163"></a><span > </span>
<a id="L164"></a><span > </span>
<a id="L165"></a><span > </span>
<a id="L166"></a><span > </span>
<a id="L167"></a><span > </span>
<a id="L168"></a><span > </span>
<a id="L169"></a><span > </span>
<a id="L170"></a><span > </span>
<a id="L171"></a><span > </span>
<a id="L172"></a><span > </span>
<a id="L173"></a><span > </span>
<a id="L174"></a><span class="visited"> </span>
<a id="L175"></a><span > </span>
<a id="L176"></a><span > </span>
<a id="L177"></a><span class="visited"> </span>
<a id="L178"></a><span > </span>
<a id="L179"></a><span > </span>
<a id="L180"></a><span > </span>
<a id="L181"></a><span > </span>
<a id="L182"></a><span > </span>
<a id="L183"></a><span > </span>
<a id="L184"></a><span > </span>
<a id="L185"></a><span > </span>
<a id="L186"></a><span > </span>
<a id="L187"></a><span class="visited"> </span>
<a id="L188"></a><span > </span>
<a id="L189"></a><span > </span>
<a id="L190"></a><span > </span>
<a id="L191"></a><span > </span>
<a id="L192"></a><span > </span>
<a id="L193"></a><span > </span>
<a id="L194"></a><span > </span>
<a id="L195"></a><span > </span>
<a id="L196"></a><span > </span>
<a id="L197"></a><span > </span>
<a id="L198"></a><span > </span>
<a id="L199"></a><span > </span>
<a id="L200"></a><span class="unvisited"> </span>
<a id="L201"></a><span class="unvisited"> </span>
<a id="L202"></a><span class="unvisited"> </span>
<a id="L203"></a><span class="unvisited"> </span>
<a id="L204"></a><span > </span>
<a id="L205"></a><span class="unvisited"> </span>
<a id="L206"></a><span > </span>
<a id="L207"></a><span > </span>
<a id="L208"></a><span class="unvisited"> </span>
<a id="L209"></a><span class="unvisited"> </span>
<a id="L210"></a><span class="unvisited"> </span>
<a id="L211"></a><span class="unvisited"> </span>
<a id="L212"></a><span > </span>
<a id="L213"></a><span > </span>
<a id="L214"></a><span > </span>
<a id="L215"></a><span class="unvisited"> </span>
<a id="L216"></a><span > </span>
<a id="L217"></a><span > </span>
<a id="L218"></a><span > </span>
<a id="L219"></a><span class="unvisited"> </span>
<a id="L220"></a><span > </span>
<a id="L221"></a><span > </span>
<a id="L222"></a><span class="unvisited"> </span>
<a id="L223"></a><span > </span>
<a id="L224"></a><span > </span>
<a id="L225"></a><span > </span>
<a id="L226"></a><span > </span>
<a id="L227"></a><span class="unvisited"> </span>
<a id="L228"></a><span > </span>
<a id="L229"></a><span class="unvisited"> </span>
<a id="L230"></a><span > </span>
<a id="L231"></a><span > </span>
<a id="L232"></a><span > </span>
<a id="L233"></a><span > </span>
<a id="L234"></a><span > </span>
<a id="L235"></a><span class="visited"> </span>
<a id="L236"></a><span class="visited"> </span>
<a id="L237"></a><span > </span>
<a id="L238"></a><span class="visited"> </span>
<a id="L239"></a><span class="visited"> </span>
<a id="L240"></a><span class="visited"> </span>
<a id="L241"></a><span class="visited"> </span>
<a id="L242"></a><span class="visited"> </span>
<a id="L243"></a><span > </span>
<a id="L244"></a><span > </span>
<a id="L245"></a><span > </span>
<a id="L246"></a><span > </span>
<a id="L247"></a><span > </span>
<a id="L248"></a><span > </span>
<a id="L249"></a><span class="visited"> </span>
<a id="L250"></a><span > </span>
<a id="L251"></a><span > </span>
<a id="L252"></a><span class="visited"> </span>
<a id="L253"></a><span > </span>
<a id="L254"></a><span > </span>
<a id="L255"></a><span class="visited"> </span>
<a id="L256"></a><span > </span>
<a id="L257"></a><span class="visited"> </span>
<a id="L258"></a><span class="unvisited"> </span>
<a id="L259"></a><span class="visited"> </span>
<a id="L260"></a><span > </span>
<a id="L261"></a><span > </span>
<a id="L262"></a><span > </span>
<a id="L263"></a><span > </span>
<a id="L264"></a><span > </span>
<a id="L265"></a><span class="visited"> </span>
<a id="L266"></a><span class="visited"> </span>
<a id="L267"></a><span > </span>
<a id="L268"></a><span class="visited"> </span>
<a id="L269"></a><span class="visited"> </span>
<a id="L270"></a><span class="visited"> </span>
<a id="L271"></a><span class="visited"> </span>
<a id="L272"></a><span > </span>
<a id="L273"></a><span > </span>
<a id="L274"></a><span class="visited"> </span>
<a id="L275"></a><span > </span>
<a id="L276"></a><span class="visited"> </span>
<a id="L277"></a><span class="visited"> </span>
<a id="L278"></a><span class="visited"> </span>
<a id="L279"></a><span > </span>
<a id="L280"></a><span class="unvisited"> </span>
<a id="L281"></a><span > </span>
<a id="L282"></a><span > </span>
<a id="L283"></a><span class="visited"> </span>
<a id="L284"></a><span class="visited"> </span>
<a id="L285"></a><span > </span>
<a id="L286"></a><span > </span>
<a id="L287"></a><span class="visited"> </span>
<a id="L288"></a><span > </span>
<a id="L289"></a><span class="visited"> </span>
<a id="L290"></a><span > </span>
<a id="L291"></a><span > </span>
<a id="L292"></a><span class="visited"> </span>
<a id="L293"></a><span > </span>
<a id="L294"></a><span class="visited"> </span>
<a id="L295"></a><span > </span>
<a id="L296"></a><span class="visited"> </span>
<a id="L297"></a><span > </span>
<a id="L298"></a><span > </span>
<a id="L299"></a><span class="visited"> </span>
<a id="L300"></a><span class="unvisited"> </span>
<a id="L301"></a><span > </span>
<a id="L302"></a><span class="visited"> </span>
<a id="L303"></a><span > </span>
<a id="L304"></a><span class="visited"> </span>
<a id="L305"></a><span class="visited"> </span>
<a id="L306"></a><span class="visited"> </span>
<a id="L307"></a><span > </span>
<a id="L308"></a><span > </span>
<a id="L309"></a><span class="visited"> </span>
<a id="L310"></a><span class="visited"> </span>
<a id="L311"></a><span > </span>
<a id="L312"></a><span > </span>
<a id="L313"></a><span > </span>
<a id="L314"></a><span > </span>
<a id="L315"></a><span class="visited"> </span>
<a id="L316"></a><span class="visited"> </span>
<a id="L317"></a><span class="visited"> </span>
<a id="L318"></a><span > </span>
<a id="L319"></a><span class="visited"> </span>
<a id="L320"></a><span > </span>
<a id="L321"></a><span > </span>
<a id="L322"></a><span > </span>
<a id="L323"></a><span > </span>
<a id="L324"></a><span class="visited"> </span>
<a id="L325"></a><span class="visited"> </span>
<a id="L326"></a><span class="visited"> </span>
<a id="L327"></a><span > </span>
<a id="L328"></a><span > </span>
<a id="L329"></a><span class="visited"> </span>
<a id="L330"></a><span > </span>
<a id="L331"></a><span > </span>
<a id="L332"></a><span class="visited"> </span>
<a id="L333"></a><span > </span>
<a id="L334"></a><span > </span>
<a id="L335"></a><span > </span>
<a id="L336"></a><span > </span>
<a id="L337"></a><span > </span>
<a id="L338"></a><span > </span>
<a id="L339"></a><span class="visited"> </span>
<a id="L340"></a><span class="visited"> </span>
<a id="L341"></a><span > </span>
<a id="L342"></a><span class="visited"> </span>
<a id="L343"></a><span class="visited"> </span>
<a id="L344"></a><span class="visited"> </span>
<a id="L345"></a><span class="visited"> </span>
<a id="L346"></a><span > </span>
<a id="L347"></a><span class="visited"> </span>
<a id="L348"></a><span > </span>
<a id="L349"></a><span > </span>
<a id="L350"></a><span > </span>
<a id="L351"></a><span class="visited"> </span>
<a id="L352"></a><span class="visited"> </span>
<a id="L353"></a><span class="visited"> </span>
<a id="L354"></a><span class="visited"> </span>
<a id="L355"></a><span class="visited"> </span>
<a id="L356"></a><span class="visited"> </span>
<a id="L357"></a><span class="visited"> </span>
<a id="L358"></a><span class="visited"> </span>
<a id="L359"></a><span class="visited"> </span>
<a id="L360"></a><span > </span>
<a id="L361"></a><span class="visited"> </span>
<a id="L362"></a><span class="visited"> </span>
<a id="L363"></a><span class="visited"> </span>
<a id="L364"></a><span class="visited"> </span>
<a id="L365"></a><span class="visited"> </span>
<a id="L366"></a><span class="visited"> </span>
<a id="L367"></a><span class="visited"> </span>
<a id="L368"></a><span > </span>
<a id="L369"></a><span class="visited"> </span>
<a id="L370"></a><span > </span>
<a id="L371"></a><span class="visited"> </span>
<a id="L372"></a><span class="visited"> </span>
<a id="L373"></a><span class="visited"> </span>
<a id="L374"></a><span class="visited"> </span>
<a id="L375"></a><span class="visited"> </span>
<a id="L376"></a><span > </span>
<a id="L377"></a><span > </span>
<a id="L378"></a><span > </span>
<a id="L379"></a><span > </span>
<a id="L380"></a><span > </span>
<a id="L381"></a><span > </span>
<a id="L382"></a><span > </span>
<a id="L383"></a><span > </span>
<a id="L384"></a><span class="visited"> </span>
<a id="L385"></a><span class="visited"> </span>
<a id="L386"></a><span > </span>
<a id="L387"></a><span class="visited"> </span>
<a id="L388"></a><span > </span>
<a id="L389"></a><span class="visited"> </span>
<a id="L390"></a><span > </span>
<a id="L391"></a><span > </span>
<a id="L392"></a><span class="visited"> </span>
<a id="L393"></a><span class="visited"> </span>
<a id="L394"></a><span > </span>
<a id="L395"></a><span class="visited"> </span>
<a id="L396"></a><span class="visited"> </span>
<a id="L397"></a><span > </span>
<a id="L398"></a><span class="visited"> </span>
<a id="L399"></a><span class="visited"> </span>
<a id="L400"></a><span class="visited"> </span>
<a id="L401"></a><span class="visited"> </span>
<a id="L402"></a><span class="visited"> </span>
<a id="L403"></a><span class="visited"> </span>
<a id="L404"></a><span > </span>
<a id="L405"></a><span > </span>
<a id="L406"></a><span > </span>
<a id="L407"></a><span class="visited"> </span>
<a id="L408"></a><span > </span>
<a id="L409"></a><span class="visited"> </span>
<a id="L410"></a><span class="visited"> </span>
<a id="L411"></a><span class="visited"> </span>
<a id="L412"></a><span class="visited"> </span>
<a id="L413"></a><span class="visited"> </span>
<a id="L414"></a><span > </span>
<a id="L415"></a><span class="visited"> </span>
<a id="L416"></a><span > </span>
<a id="L417"></a><span class="visited"> </span>
<a id="L418"></a><span > </span>
<a id="L419"></a><span class="visited"> </span>
<a id="L420"></a><span class="visited"> </span>
<a id="L421"></a><span > </span>
<a id="L422"></a><span > </span>
<a id="L423"></a><span class="visited"> </span>
<a id="L424"></a><span > </span>
<a id="L425"></a><span class="visited"> </span>
<a id="L426"></a><span > </span>
<a id="L427"></a><span class="visited"> </span>
<a id="L428"></a><span class="visited"> </span>
<a id="L429"></a><span > </span>
<a id="L430"></a><span class="unvisited"> </span>
<a id="L431"></a><span class="visited"> </span>
<a id="L432"></a><span > </span>
<a id="L433"></a><span > </span>
<a id="L434"></a><span class="visited"> </span>
<a id="L435"></a><span > </span>
<a id="L436"></a><span > </span>
<a id="L437"></a><span > </span>
<a id="L438"></a><span > </span>
<a id="L439"></a><span class="visited"> </span>
<a id="L440"></a><span class="visited"> </span>
<a id="L441"></a><span > </span>
<a id="L442"></a><span class="visited"> </span>
<a id="L443"></a><span class="visited"> </span>
<a id="L444"></a><span class="visited"> </span>
<a id="L445"></a><span > </span>
<a id="L446"></a><span class="visited"> </span>
<a id="L447"></a><span > </span>
<a id="L448"></a><span class="visited"> </span>
<a id="L449"></a><span class="visited"> </span>
<a id="L450"></a><span class="visited"> </span>
<a id="L451"></a><span > </span>
<a id="L452"></a><span class="visited"> </span>
<a id="L453"></a><span > </span>
<a id="L454"></a><span > </span>
<a id="L455"></a><span class="visited"> </span>
<a id="L456"></a><span class="visited"> </span>
<a id="L457"></a><span > </span>
<a id="L458"></a><span > </span>
<a id="L459"></a><span class="visited"> </span>
<a id="L460"></a><span class="visited"> </span>
<a id="L461"></a><span > </span>
<a id="L462"></a><span class="visited"> </span>
<a id="L463"></a><span class="visited"> </span>
<a id="L464"></a><span class="visited"> </span>
<a id="L465"></a><span class="visited"> </span>
<a id="L466"></a><span class="visited"> </span>
<a id="L467"></a><span class="visited"> </span>
<a id="L468"></a><span > </span>
<a id="L469"></a><span > </span>
<a id="L470"></a><span > </span>
<a id="L471"></a><span class="visited"> </span>
<a id="L472"></a><span > </span>
<a id="L473"></a><span class="visited"> </span>
<a id="L474"></a><span class="visited"> </span>
<a id="L475"></a><span > </span>
<a id="L476"></a><span class="visited"> </span>
<a id="L477"></a><span class="visited"> </span>
<a id="L478"></a><span > </span>
<a id="L479"></a><span > </span>
<a id="L480"></a><span class="visited"> </span>
<a id="L481"></a><span > </span>
<a id="L482"></a><span > </span>
<a id="L483"></a><span > </span>
<a id="L484"></a><span > </span>
<a id="L485"></a><span class="visited"> </span>
<a id="L486"></a><span > </span>
<a id="L487"></a><span > </span>
<a id="L488"></a><span > </span>
<a id="L489"></a><span > </span>
<a id="L490"></a><span > </span>
<a id="L491"></a><span class="visited"> </span>
<a id="L492"></a><span class="visited"> </span>
<a id="L493"></a><span class="visited"> </span>
<a id="L494"></a><span class="visited"> </span>
<a id="L495"></a><span > </span>
<a id="L496"></a><span > </span>
<a id="L497"></a><span > </span>
<a id="L498"></a><span > </span>
<a id="L499"></a><span > </span>
<a id="L500"></a><span class="visited"> </span>
<a id="L501"></a><span > </span>
<a id="L502"></a><span > </span>
<a id="L503"></a><span > </span>
<a id="L504"></a><span > </span>
<a id="L505"></a><span > </span>
<a id="L506"></a><span class="visited"> </span>
<a id="L507"></a><span class="visited"> </span>
<a id="L508"></a><span class="visited"> </span>
<a id="L509"></a><span > </span>
<a id="L510"></a><span class="visited"> </span>
<a id="L511"></a><span class="visited"> </span>
<a id="L512"></a><span class="visited"> </span>
<a id="L513"></a><span > </span>
<a id="L514"></a><span class="unvisited"> </span>
<a id="L515"></a><span > </span>
<a id="L516"></a><span class="visited"> </span>
<a id="L517"></a><span > </span>
<a id="L518"></a><span > </span>
<a id="L519"></a><span > </span>
<a id="L520"></a><span class="visited"> </span>
<a id="L521"></a><span > </span>
<a id="L522"></a><span > </span>
<a id="L523"></a><span > </span>
<a id="L524"></a><span class="visited"> </span>
<a id="L525"></a><span class="visited"> </span>
<a id="L526"></a><span > </span>
<a id="L527"></a><span > </span>
<a id="L528"></a><span > </span>
<a id="L529"></a><span > </span>
<a id="L530"></a><span > </span>
<a id="L531"></a><span > </span>
<a id="L532"></a><span > </span>
<a id="L533"></a><span class="visited"> </span>
<a id="L534"></a><span class="visited"> </span>
<a id="L535"></a><span class="visited"> </span>
<a id="L536"></a><span class="unvisited"> </span>
<a id="L537"></a><span > </span>
<a id="L538"></a><span class="visited"> </span>
<a id="L539"></a><span > </span>
<a id="L540"></a><span > </span>
<a id="L541"></a><span class="visited"> </span>
<a id="L542"></a><span class="visited"> </span>
<a id="L543"></a><span > </span>
<a id="L544"></a><span > </span>
<a id="L545"></a><span > </span>
<a id="L546"></a><span class="visited"> </span>
<a id="L547"></a><span class="visited"> </span>
<a id="L548"></a><span class="visited"> </span>
<a id="L549"></a><span > </span>
<a id="L550"></a><span > </span>
<a id="L551"></a><span > </span>
<a id="L552"></a><span > </span>
<a id="L553"></a><span class="unvisited"> </span>
<a id="L554"></a><span class="visited"> </span>
<a id="L555"></a><span > </span>
<a id="L556"></a><span > </span>
<a id="L557"></a><span class="unvisited"> </span>
<a id="L558"></a><span > </span>
<a id="L559"></a><span > </span>
<a id="L560"></a><span > </span>
<a id="L561"></a><span > </span>
<a id="L562"></a><span > </span>
<a id="L563"></a><span class="visited"> </span>
<a id="L564"></a><span class="visited"> </span>
<a id="L565"></a><span class="visited"> </span>
<a id="L566"></a><span class="visited"> </span>
<a id="L567"></a><span class="visited"> </span>
<a id="L568"></a><span class="visited"> </span>
<a id="L569"></a><span > </span>
<a id="L570"></a><span > </span>
<a id="L571"></a><span > </span>
<a id="L572"></a><span > </span>
<a id="L573"></a><span > </span>
<a id="L574"></a><span > </span>
<a id="L575"></a><span > </span>
<a id="L576"></a><span > </span>
<a id="L577"></a><span > </span>
<a id="L578"></a><span > </span>
<a id="L579"></a><span > </span>
<a id="L580"></a><span > </span>
<a id="L581"></a><span > </span>
<a id="L582"></a><span > </span>
<a id="L583"></a><span > </span>
<a id="L584"></a><span > </span>
<a id="L585"></a><span > </span>
<a id="L586"></a><span > </span>
<a id="L587"></a><span > </span>
<a id="L588"></a><span > </span>
<a id="L589"></a><span > </span>
<a id="L590"></a><span > </span>
<a id="L591"></a><span > </span>
<a id="L592"></a><span class="visited"> </span>
<a id="L593"></a><span class="visited"> </span>
<a id="L594"></a><span class="visited"> </span>
<a id="L595"></a><span > </span>
<a id="L596"></a><span > </span>
<a id="L597"></a><span > </span>
<a id="L598"></a><span class="visited"> </span>
<a id="L599"></a><span > </span>
<a id="L600"></a><span > </span>
<a id="L601"></a><span > </span>
<a id="L602"></a><span class="visited"> </span>
<a id="L603"></a><span > </span>
<a id="L604"></a><span > </span>
<a id="L605"></a><span > </span>
<a id="L606"></a><span class="visited"> </span>
<a id="L607"></a><span > </span>
<a id="L608"></a><span > </span>
<a id="L609"></a><span > </span>
<a id="L610"></a><span > </span>
<a id="L611"></a><span > </span>
<a id="L612"></a><span class="visited"> </span>
<a id="L613"></a><span class="visited"> </span>
<a id="L614"></a><span class="visited"> </span>
<a id="L615"></a><span > </span>
<a id="L616"></a><span class="visited"> </span>
<a id="L617"></a><span > </span>
<a id="L618"></a><span class="visited"> </span>
<a id="L619"></a><span > </span>
<a id="L620"></a><span class="visited"> </span>
<a id="L621"></a><span class="unvisited"> </span>
<a id="L622"></a><span class="unvisited"> </span>
<a id="L623"></a><span class="visited"> </span>
<a id="L624"></a><span > </span>
<a id="L625"></a><span > </span>
<a id="L626"></a><span > </span>
<a id="L627"></a><span > </span>
<a id="L628"></a><span > </span>
<a id="L629"></a><span > </span>
<a id="L630"></a><span class="unvisited"> </span>
<a id="L631"></a><span class="visited"> </span>
<a id="L632"></a><span > </span>
<a id="L633"></a><span > </span>
<a id="L634"></a><span class="unvisited"> </span>
<a id="L635"></a><span class="visited"> </span>
<a id="L636"></a><span > </span>
<a id="L637"></a><span class="visited"> </span>
<a id="L638"></a><span class="visited"> </span>
<a id="L639"></a><span class="visited"> </span>
<a id="L640"></a><span > </span>
<a id="L641"></a><span class="visited"> </span>
<a id="L642"></a><span > </span>
<a id="L643"></a><span > </span>
<a id="L644"></a><span > </span>
<a id="L645"></a><span class="visited"> </span>
<a id="L646"></a><span class="some-visited"> </span>
<a id="L647"></a><span > </span>
<a id="L648"></a><span class="unvisited"> </span>
<a id="L649"></a><span class="visited"> </span>
<a id="L650"></a><span > </span>
<a id="L651"></a><span class="visited"> </span>
<a id="L652"></a><span class="visited"> </span>
<a id="L653"></a><span > </span>
<a id="L654"></a><span class="visited"> </span>
<a id="L655"></a><span class="unvisited"> </span>
<a id="L656"></a><span > </span>
<a id="L657"></a><span class="visited"> </span>
<a id="L658"></a><span class="visited"> </span>
<a id="L659"></a><span class="unvisited"> </span>
<a id="L660"></a><span > </span>
<a id="L661"></a><span class="visited"> </span>
<a id="L662"></a><span class="visited"> </span>
<a id="L663"></a><span > </span>
<a id="L664"></a><span > </span>
<a id="L665"></a><span class="visited"> </span>
<a id="L666"></a><span > </span>
<a id="L667"></a><span > </span>
<a id="L668"></a><span class="visited"> </span>
<a id="L669"></a><span class="visited"> </span>
<a id="L670"></a><span class="visited"> </span>
<a id="L671"></a><span class="visited"> </span>
<a id="L672"></a><span > </span>
<a id="L673"></a><span > </span>
<a id="L674"></a><span > </span>
<a id="L675"></a><span > </span>
<a id="L676"></a><span class="unvisited"> </span>
<a id="L677"></a><span > </span>
<a id="L678"></a><span > </span>
<a id="L679"></a><span > </span>
<a id="L680"></a><span > </span>
<a id="L681"></a><span > </span>
<a id="L682"></a><span > </span>
<a id="L683"></a><span > </span>
<a id="L684"></a><span > </span>
<a id="L685"></a><span class="visited"> </span>
<a id="L686"></a><span class="visited"> </span>
<a id="L687"></a><span class="visited"> </span>
<a id="L688"></a><span > </span>
<a id="L689"></a><span > </span>
<a id="L690"></a><span class="visited"> </span>
<a id="L691"></a><span class="visited"> </span>
<a id="L692"></a><span > </span>
<a id="L693"></a><span class="visited"> </span>
<a id="L694"></a><span > </span>
<a id="L695"></a><span class="visited"> </span>
<a id="L696"></a><span class="visited"> </span>
<a id="L697"></a><span class="unvisited"> </span>
<a id="L698"></a><span > </span>
<a id="L699"></a><span class="visited"> </span>
<a id="L700"></a><span > </span>
<a id="L701"></a><span > </span>
<a id="L702"></a><span > </span>
<a id="L703"></a><span > </span>
<a id="L704"></a><span class="visited"> </span>
<a id="L705"></a><span > </span>
<a id="L706"></a><span class="visited"> </span>
<a id="L707"></a><span > </span>
<a id="L708"></a><span > </span>
<a id="L709"></a><span class="visited"> </span>
<a id="L710"></a><span > </span>
<a id="L711"></a><span class="visited"> </span>
<a id="L712"></a><span > </span>
<a id="L713"></a><span class="visited"> </span>
<a id="L714"></a><span > </span>
<a id="L715"></a><span > </span>
<a id="L716"></a><span class="visited"> </span>
<a id="L717"></a><span > </span>
<a id="L718"></a><span class="visited"> </span>
<a id="L719"></a><span > </span>
<a id="L720"></a><span class="visited"> </span>
<a id="L721"></a><span > </span>
<a id="L722"></a><span class="visited"> </span>
<a id="L723"></a><span > </span>
<a id="L724"></a><span class="visited"> </span>
<a id="L725"></a><span > </span>
<a id="L726"></a><span > </span>
<a id="L727"></a><span class="visited"> </span>
<a id="L728"></a><span class="visited"> </span>
<a id="L729"></a><span > </span>
<a id="L730"></a><span > </span>
<a id="L731"></a><span class="visited"> </span>
<a id="L732"></a><span class="visited"> </span>
<a id="L733"></a><span class="visited"> </span>
<a id="L734"></a><span > </span>
<a id="L735"></a><span class="visited"> </span>
<a id="L736"></a><span > </span>
<a id="L737"></a><span > </span>
<a id="L738"></a><span class="visited"> </span>
<a id="L739"></a><span class="visited"> </span>
<a id="L740"></a><span class="visited"> </span>
<a id="L741"></a><span > </span>
<a id="L742"></a><span class="visited"> </span>
<a id="L743"></a><span > </span>
<a id="L744"></a><span class="visited"> </span>
<a id="L745"></a><span class="visited"> </span>
<a id="L746"></a><span > </span>
<a id="L747"></a><span > </span>
<a id="L748"></a><span class="visited"> </span>
<a id="L749"></a><span class="visited"> </span>
<a id="L750"></a><span > </span>
<a id="L751"></a><span > </span>
<a id="L752"></a><span > </span>
<a id="L753"></a><span > </span>
<a id="L754"></a><span class="visited"> </span>
<a id="L755"></a><span class="visited"> </span>
<a id="L756"></a><span > </span>
<a id="L757"></a><span > </span>
<a id="L758"></a><span > </span>
<a id="L759"></a><span > </span>
<a id="L760"></a><span > </span>
<a id="L761"></a><span > </span>
<a id="L762"></a><span > </span>
<a id="L763"></a><span > </span>
<a id="L764"></a><span > </span>
<a id="L765"></a><span > </span>
<a id="L766"></a><span class="visited"> </span>
<a id="L767"></a><span > </span>
<a id="L768"></a><span > </span>
<a id="L769"></a><span > </span>
<a id="L770"></a><span > </span>
<a id="L771"></a><span > </span>
<a id="L772"></a><span > </span>
<a id="L773"></a><span > </span>
<a id="L774"></a><span > </span>
<a id="L775"></a><span > </span>
<a id="L776"></a><span > </span>
<a id="L777"></a><span class="visited"> </span>
<a id="L778"></a><span > </span>
<a id="L779"></a><span > </span>
<a id="L780"></a><span > </span>
<a id="L781"></a><span > </span>
<a id="L782"></a><span > </span>
<a id="L783"></a><span class="visited"> </span>
<a id="L784"></a><span > </span>
<a id="L785"></a><span > </span>
<a id="L786"></a><span > </span>
<a id="L787"></a><span > </span>
<a id="L788"></a><span > </span>
<a id="L789"></a><span class="visited"> </span>
<a id="L790"></a><span > </span>
<a id="L791"></a><span class="unvisited"> </span>
<a id="L792"></a><span > </span>
<a id="L793"></a><span > </span>
<a id="L794"></a><span class="visited"> </span>
<a id="L795"></a><span > </span>
<a id="L796"></a><span > </span>
<a id="L797"></a><span > </span>
<a id="L798"></a><span > </span>
<a id="L799"></a><span > </span>
<a id="L800"></a><span > </span>
<a id="L801"></a><span > </span>
<a id="L802"></a><span > </span>
<a id="L803"></a><span class="visited"> </span>
<a id="L804"></a><span > </span>
<a id="L805"></a><span > </span>
<a id="L806"></a><span > </span>
<a id="L807"></a><span > </span>
<a id="L808"></a><span > </span>
<a id="L809"></a><span > </span>
<a id="L810"></a><span class="unvisited"> </span>
<a id="L811"></a><span > </span>
<a id="L812"></a><span class="unvisited"> </span>
<a id="L813"></a><span > </span>
<a id="L814"></a><span class="visited"> </span>
<a id="L815"></a><span > </span>
<a id="L816"></a><span > </span>
<a id="L817"></a><span > </span>
<a id="L818"></a><span class="visited"> </span>
<a id="L819"></a><span class="visited"> </span>
<a id="L820"></a><span > </span>
<a id="L821"></a><span class="visited"> </span>
<a id="L822"></a><span > </span>
<a id="L823"></a><span class="visited"> </span>
<a id="L824"></a><span class="visited"> </span>
<a id="L825"></a><span class="visited"> </span>
<a id="L826"></a><span class="visited"> </span>
<a id="L827"></a><span class="visited"> </span>
<a id="L828"></a><span class="visited"> </span>
<a id="L829"></a><span > </span>
<a id="L830"></a><span > </span>
<a id="L831"></a><span > </span>
<a id="L832"></a><span class="some-visited"> </span>
<a id="L833"></a><span class="visited"> </span>
<a id="L834"></a><span class="visited"> </span>
<a id="L835"></a><span class="visited"> </span>
<a id="L836"></a><span class="visited"> </span>
<a id="L837"></a><span class="visited"> </span>
<a id="L838"></a><span > </span>
<a id="L839"></a><span class="visited"> </span>
<a id="L840"></a><span class="visited"> </span>
<a id="L841"></a><span class="visited"> </span>
<a id="L842"></a><span > </span>
<a id="L843"></a><span > </span>
<a id="L844"></a><span > </span>
<a id="L845"></a><span > </span>
<a id="L846"></a><span > </span>
<a id="L847"></a><span class="visited"> </span>
<a id="L848"></a><span > </span>
<a id="L849"></a><span class="visited"> </span>
<a id="L850"></a><span class="visited"> </span>
<a id="L851"></a><span > </span>
</pre>
      </div>
      <div id="text-layer">
        <pre id="line-numbers">
<a href="#L1">  1</a>
<a href="#L2">  2</a>
<a href="#L3">  3</a>
<a href="#L4">  4</a>
<a href="#L5">  5</a>
<a href="#L6">  6</a>
<a href="#L7">  7</a>
<a href="#L8">  8</a>
<a href="#L9">  9</a>
<a href="#L10"> 10</a>
<a href="#L11"> 11</a>
<a href="#L12"> 12</a>
<a href="#L13"> 13</a>
<a href="#L14"> 14</a>
<a href="#L15"> 15</a>
<a href="#L16"> 16</a>
<a href="#L17"> 17</a>
<a href="#L18"> 18</a>
<a href="#L19"> 19</a>
<a href="#L20"> 20</a>
<a href="#L21"> 21</a>
<a href="#L22"> 22</a>
<a href="#L23"> 23</a>
<a href="#L24"> 24</a>
<a href="#L25"> 25</a>
<a href="#L26"> 26</a>
<a href="#L27"> 27</a>
<a href="#L28"> 28</a>
<a href="#L29"> 29</a>
<a href="#L30"> 30</a>
<a href="#L31"> 31</a>
<a href="#L32"> 32</a>
<a href="#L33"> 33</a>
<a href="#L34"> 34</a>
<a href="#L35"> 35</a>
<a href="#L36"> 36</a>
<a href="#L37"> 37</a>
<a href="#L38"> 38</a>
<a href="#L39"> 39</a>
<a href="#L40"> 40</a>
<a href="#L41"> 41</a>
<a href="#L42"> 42</a>
<a href="#L43"> 43</a>
<a href="#L44"> 44</a>
<a href="#L45"> 45</a>
<a href="#L46"> 46</a>
<a href="#L47"> 47</a>
<a href="#L48"> 48</a>
<a href="#L49"> 49</a>
<a href="#L50"> 50</a>
<a href="#L51"> 51</a>
<a href="#L52"> 52</a>
<a href="#L53"> 53</a>
<a href="#L54"> 54</a>
<a href="#L55"> 55</a>
<a href="#L56"> 56</a>
<a href="#L57"> 57</a>
<a href="#L58"> 58</a>
<a href="#L59"> 59</a>
<a href="#L60"> 60</a>
<a href="#L61"> 61</a>
<a href="#L62"> 62</a>
<a href="#L63"> 63</a>
<a href="#L64"> 64</a>
<a href="#L65"> 65</a>
<a href="#L66"> 66</a>
<a href="#L67"> 67</a>
<a href="#L68"> 68</a>
<a href="#L69"> 69</a>
<a href="#L70"> 70</a>
<a href="#L71"> 71</a>
<a href="#L72"> 72</a>
<a href="#L73"> 73</a>
<a href="#L74"> 74</a>
<a href="#L75"> 75</a>
<a href="#L76"> 76</a>
<a href="#L77"> 77</a>
<a href="#L78"> 78</a>
<a href="#L79"> 79</a>
<a href="#L80"> 80</a>
<a href="#L81"> 81</a>
<a href="#L82"> 82</a>
<a href="#L83"> 83</a>
<a href="#L84"> 84</a>
<a href="#L85"> 85</a>
<a href="#L86"> 86</a>
<a href="#L87"> 87</a>
<a href="#L88"> 88</a>
<a href="#L89"> 89</a>
<a href="#L90"> 90</a>
<a href="#L91"> 91</a>
<a href="#L92"> 92</a>
<a href="#L93"> 93</a>
<a href="#L94"> 94</a>
<a href="#L95"> 95</a>
<a href="#L96"> 96</a>
<a href="#L97"> 97</a>
<a href="#L98"> 98</a>
<a href="#L99"> 99</a>
<a href="#L100">100</a>
<a href="#L101">101</a>
<a href="#L102">102</a>
<a href="#L103">103</a>
<a href="#L104">104</a>
<a href="#L105">105</a>
<a href="#L106">106</a>
<a href="#L107">107</a>
<a href="#L108">108</a>
<a href="#L109">109</a>
<a href="#L110">110</a>
<a href="#L111">111</a>
<a href="#L112">112</a>
<a href="#L113">113</a>
<a href="#L114">114</a>
<a href="#L115">115</a>
<a href="#L116">116</a>
<a href="#L117">117</a>
<a href="#L118">118</a>
<a href="#L119">119</a>
<a href="#L120">120</a>
<a href="#L121">121</a>
<a href="#L122">122</a>
<a href="#L123">123</a>
<a href="#L124">124</a>
<a href="#L125">125</a>
<a href="#L126">126</a>
<a href="#L127">127</a>
<a href="#L128">128</a>
<a href="#L129">129</a>
<a href="#L130">130</a>
<a href="#L131">131</a>
<a href="#L132">132</a>
<a href="#L133">133</a>
<a href="#L134">134</a>
<a href="#L135">135</a>
<a href="#L136">136</a>
<a href="#L137">137</a>
<a href="#L138">138</a>
<a href="#L139">139</a>
<a href="#L140">140</a>
<a href="#L141">141</a>
<a href="#L142">142</a>
<a href="#L143">143</a>
<a href="#L144">144</a>
<a href="#L145">145</a>
<a href="#L146">146</a>
<a href="#L147">147</a>
<a href="#L148">148</a>
<a href="#L149">149</a>
<a href="#L150">150</a>
<a href="#L151">151</a>
<a href="#L152">152</a>
<a href="#L153">153</a>
<a href="#L154">154</a>
<a href="#L155">155</a>
<a href="#L156">156</a>
<a href="#L157">157</a>
<a href="#L158">158</a>
<a href="#L159">159</a>
<a href="#L160">160</a>
<a href="#L161">161</a>
<a href="#L162">162</a>
<a href="#L163">163</a>
<a href="#L164">164</a>
<a href="#L165">165</a>
<a href="#L166">166</a>
<a href="#L167">167</a>
<a href="#L168">168</a>
<a href="#L169">169</a>
<a href="#L170">170</a>
<a href="#L171">171</a>
<a href="#L172">172</a>
<a href="#L173">173</a>
<a href="#L174">174</a>
<a href="#L175">175</a>
<a href="#L176">176</a>
<a href="#L177">177</a>
<a href="#L178">178</a>
<a href="#L179">179</a>
<a href="#L180">180</a>
<a href="#L181">181</a>
<a href="#L182">182</a>
<a href="#L183">183</a>
<a href="#L184">184</a>
<a href="#L185">185</a>
<a href="#L186">186</a>
<a href="#L187">187</a>
<a href="#L188">188</a>
<a href="#L189">189</a>
<a href="#L190">190</a>
<a href="#L191">191</a>
<a href="#L192">192</a>
<a href="#L193">193</a>
<a href="#L194">194</a>
<a href="#L195">195</a>
<a href="#L196">196</a>
<a href="#L197">197</a>
<a href="#L198">198</a>
<a href="#L199">199</a>
<a href="#L200">200</a>
<a href="#L201">201</a>
<a href="#L202">202</a>
<a href="#L203">203</a>
<a href="#L204">204</a>
<a href="#L205">205</a>
<a href="#L206">206</a>
<a href="#L207">207</a>
<a href="#L208">208</a>
<a href="#L209">209</a>
<a href="#L210">210</a>
<a href="#L211">211</a>
<a href="#L212">212</a>
<a href="#L213">213</a>
<a href="#L214">214</a>
<a href="#L215">215</a>
<a href="#L216">216</a>
<a href="#L217">217</a>
<a href="#L218">218</a>
<a href="#L219">219</a>
<a href="#L220">220</a>
<a href="#L221">221</a>
<a href="#L222">222</a>
<a href="#L223">223</a>
<a href="#L224">224</a>
<a href="#L225">225</a>
<a href="#L226">226</a>
<a href="#L227">227</a>
<a href="#L228">228</a>
<a href="#L229">229</a>
<a href="#L230">230</a>
<a href="#L231">231</a>
<a href="#L232">232</a>
<a href="#L233">233</a>
<a href="#L234">234</a>
<a href="#L235">235</a>
<a href="#L236">236</a>
<a href="#L237">237</a>
<a href="#L238">238</a>
<a href="#L239">239</a>
<a href="#L240">240</a>
<a href="#L241">241</a>
<a href="#L242">242</a>
<a href="#L243">243</a>
<a href="#L244">244</a>
<a href="#L245">245</a>
<a href="#L246">246</a>
<a href="#L247">247</a>
<a href="#L248">248</a>
<a href="#L249">249</a>
<a href="#L250">250</a>
<a href="#L251">251</a>
<a href="#L252">252</a>
<a href="#L253">253</a>
<a href="#L254">254</a>
<a href="#L255">255</a>
<a href="#L256">256</a>
<a href="#L257">257</a>
<a href="#L258">258</a>
<a href="#L259">259</a>
<a href="#L260">260</a>
<a href="#L261">261</a>
<a href="#L262">262</a>
<a href="#L263">263</a>
<a href="#L264">264</a>
<a href="#L265">265</a>
<a href="#L266">266</a>
<a href="#L267">267</a>
<a href="#L268">268</a>
<a href="#L269">269</a>
<a href="#L270">270</a>
<a href="#L271">271</a>
<a href="#L272">272</a>
<a href="#L273">273</a>
<a href="#L274">274</a>
<a href="#L275">275</a>
<a href="#L276">276</a>
<a href="#L277">277</a>
<a href="#L278">278</a>
<a href="#L279">279</a>
<a href="#L280">280</a>
<a href="#L281">281</a>
<a href="#L282">282</a>
<a href="#L283">283</a>
<a href="#L284">284</a>
<a href="#L285">285</a>
<a href="#L286">286</a>
<a href="#L287">287</a>
<a href="#L288">288</a>
<a href="#L289">289</a>
<a href="#L290">290</a>
<a href="#L291">291</a>
<a href="#L292">292</a>
<a href="#L293">293</a>
<a href="#L294">294</a>
<a href="#L295">295</a>
<a href="#L296">296</a>
<a href="#L297">297</a>
<a href="#L298">298</a>
<a href="#L299">299</a>
<a href="#L300">300</a>
<a href="#L301">301</a>
<a href="#L302">302</a>
<a href="#L303">303</a>
<a href="#L304">304</a>
<a href="#L305">305</a>
<a href="#L306">306</a>
<a href="#L307">307</a>
<a href="#L308">308</a>
<a href="#L309">309</a>
<a href="#L310">310</a>
<a href="#L311">311</a>
<a href="#L312">312</a>
<a href="#L313">313</a>
<a href="#L314">314</a>
<a href="#L315">315</a>
<a href="#L316">316</a>
<a href="#L317">317</a>
<a href="#L318">318</a>
<a href="#L319">319</a>
<a href="#L320">320</a>
<a href="#L321">321</a>
<a href="#L322">322</a>
<a href="#L323">323</a>
<a href="#L324">324</a>
<a href="#L325">325</a>
<a href="#L326">326</a>
<a href="#L327">327</a>
<a href="#L328">328</a>
<a href="#L329">329</a>
<a href="#L330">330</a>
<a href="#L331">331</a>
<a href="#L332">332</a>
<a href="#L333">333</a>
<a href="#L334">334</a>
<a href="#L335">335</a>
<a href="#L336">336</a>
<a href="#L337">337</a>
<a href="#L338">338</a>
<a href="#L339">339</a>
<a href="#L340">340</a>
<a href="#L341">341</a>
<a href="#L342">342</a>
<a href="#L343">343</a>
<a href="#L344">344</a>
<a href="#L345">345</a>
<a href="#L346">346</a>
<a href="#L347">347</a>
<a href="#L348">348</a>
<a href="#L349">349</a>
<a href="#L350">350</a>
<a href="#L351">351</a>
<a href="#L352">352</a>
<a href="#L353">353</a>
<a href="#L354">354</a>
<a href="#L355">355</a>
<a href="#L356">356</a>
<a href="#L357">357</a>
<a href="#L358">358</a>
<a href="#L359">359</a>
<a href="#L360">360</a>
<a href="#L361">361</a>
<a href="#L362">362</a>
<a href="#L363">363</a>
<a href="#L364">364</a>
<a href="#L365">365</a>
<a href="#L366">366</a>
<a href="#L367">367</a>
<a href="#L368">368</a>
<a href="#L369">369</a>
<a href="#L370">370</a>
<a href="#L371">371</a>
<a href="#L372">372</a>
<a href="#L373">373</a>
<a href="#L374">374</a>
<a href="#L375">375</a>
<a href="#L376">376</a>
<a href="#L377">377</a>
<a href="#L378">378</a>
<a href="#L379">379</a>
<a href="#L380">380</a>
<a href="#L381">381</a>
<a href="#L382">382</a>
<a href="#L383">383</a>
<a href="#L384">384</a>
<a href="#L385">385</a>
<a href="#L386">386</a>
<a href="#L387">387</a>
<a href="#L388">388</a>
<a href="#L389">389</a>
<a href="#L390">390</a>
<a href="#L391">391</a>
<a href="#L392">392</a>
<a href="#L393">393</a>
<a href="#L394">394</a>
<a href="#L395">395</a>
<a href="#L396">396</a>
<a href="#L397">397</a>
<a href="#L398">398</a>
<a href="#L399">399</a>
<a href="#L400">400</a>
<a href="#L401">401</a>
<a href="#L402">402</a>
<a href="#L403">403</a>
<a href="#L404">404</a>
<a href="#L405">405</a>
<a href="#L406">406</a>
<a href="#L407">407</a>
<a href="#L408">408</a>
<a href="#L409">409</a>
<a href="#L410">410</a>
<a href="#L411">411</a>
<a href="#L412">412</a>
<a href="#L413">413</a>
<a href="#L414">414</a>
<a href="#L415">415</a>
<a href="#L416">416</a>
<a href="#L417">417</a>
<a href="#L418">418</a>
<a href="#L419">419</a>
<a href="#L420">420</a>
<a href="#L421">421</a>
<a href="#L422">422</a>
<a href="#L423">423</a>
<a href="#L424">424</a>
<a href="#L425">425</a>
<a href="#L426">426</a>
<a href="#L427">427</a>
<a href="#L428">428</a>
<a href="#L429">429</a>
<a href="#L430">430</a>
<a href="#L431">431</a>
<a href="#L432">432</a>
<a href="#L433">433</a>
<a href="#L434">434</a>
<a href="#L435">435</a>
<a href="#L436">436</a>
<a href="#L437">437</a>
<a href="#L438">438</a>
<a href="#L439">439</a>
<a href="#L440">440</a>
<a href="#L441">441</a>
<a href="#L442">442</a>
<a href="#L443">443</a>
<a href="#L444">444</a>
<a href="#L445">445</a>
<a href="#L446">446</a>
<a href="#L447">447</a>
<a href="#L448">448</a>
<a href="#L449">449</a>
<a href="#L450">450</a>
<a href="#L451">451</a>
<a href="#L452">452</a>
<a href="#L453">453</a>
<a href="#L454">454</a>
<a href="#L455">455</a>
<a href="#L456">456</a>
<a href="#L457">457</a>
<a href="#L458">458</a>
<a href="#L459">459</a>
<a href="#L460">460</a>
<a href="#L461">461</a>
<a href="#L462">462</a>
<a href="#L463">463</a>
<a href="#L464">464</a>
<a href="#L465">465</a>
<a href="#L466">466</a>
<a href="#L467">467</a>
<a href="#L468">468</a>
<a href="#L469">469</a>
<a href="#L470">470</a>
<a href="#L471">471</a>
<a href="#L472">472</a>
<a href="#L473">473</a>
<a href="#L474">474</a>
<a href="#L475">475</a>
<a href="#L476">476</a>
<a href="#L477">477</a>
<a href="#L478">478</a>
<a href="#L479">479</a>
<a href="#L480">480</a>
<a href="#L481">481</a>
<a href="#L482">482</a>
<a href="#L483">483</a>
<a href="#L484">484</a>
<a href="#L485">485</a>
<a href="#L486">486</a>
<a href="#L487">487</a>
<a href="#L488">488</a>
<a href="#L489">489</a>
<a href="#L490">490</a>
<a href="#L491">491</a>
<a href="#L492">492</a>
<a href="#L493">493</a>
<a href="#L494">494</a>
<a href="#L495">495</a>
<a href="#L496">496</a>
<a href="#L497">497</a>
<a href="#L498">498</a>
<a href="#L499">499</a>
<a href="#L500">500</a>
<a href="#L501">501</a>
<a href="#L502">502</a>
<a href="#L503">503</a>
<a href="#L504">504</a>
<a href="#L505">505</a>
<a href="#L506">506</a>
<a href="#L507">507</a>
<a href="#L508">508</a>
<a href="#L509">509</a>
<a href="#L510">510</a>
<a href="#L511">511</a>
<a href="#L512">512</a>
<a href="#L513">513</a>
<a href="#L514">514</a>
<a href="#L515">515</a>
<a href="#L516">516</a>
<a href="#L517">517</a>
<a href="#L518">518</a>
<a href="#L519">519</a>
<a href="#L520">520</a>
<a href="#L521">521</a>
<a href="#L522">522</a>
<a href="#L523">523</a>
<a href="#L524">524</a>
<a href="#L525">525</a>
<a href="#L526">526</a>
<a href="#L527">527</a>
<a href="#L528">528</a>
<a href="#L529">529</a>
<a href="#L530">530</a>
<a href="#L531">531</a>
<a href="#L532">532</a>
<a href="#L533">533</a>
<a href="#L534">534</a>
<a href="#L535">535</a>
<a href="#L536">536</a>
<a href="#L537">537</a>
<a href="#L538">538</a>
<a href="#L539">539</a>
<a href="#L540">540</a>
<a href="#L541">541</a>
<a href="#L542">542</a>
<a href="#L543">543</a>
<a href="#L544">544</a>
<a href="#L545">545</a>
<a href="#L546">546</a>
<a href="#L547">547</a>
<a href="#L548">548</a>
<a href="#L549">549</a>
<a href="#L550">550</a>
<a href="#L551">551</a>
<a href="#L552">552</a>
<a href="#L553">553</a>
<a href="#L554">554</a>
<a href="#L555">555</a>
<a href="#L556">556</a>
<a href="#L557">557</a>
<a href="#L558">558</a>
<a href="#L559">559</a>
<a href="#L560">560</a>
<a href="#L561">561</a>
<a href="#L562">562</a>
<a href="#L563">563</a>
<a href="#L564">564</a>
<a href="#L565">565</a>
<a href="#L566">566</a>
<a href="#L567">567</a>
<a href="#L568">568</a>
<a href="#L569">569</a>
<a href="#L570">570</a>
<a href="#L571">571</a>
<a href="#L572">572</a>
<a href="#L573">573</a>
<a href="#L574">574</a>
<a href="#L575">575</a>
<a href="#L576">576</a>
<a href="#L577">577</a>
<a href="#L578">578</a>
<a href="#L579">579</a>
<a href="#L580">580</a>
<a href="#L581">581</a>
<a href="#L582">582</a>
<a href="#L583">583</a>
<a href="#L584">584</a>
<a href="#L585">585</a>
<a href="#L586">586</a>
<a href="#L587">587</a>
<a href="#L588">588</a>
<a href="#L589">589</a>
<a href="#L590">590</a>
<a href="#L591">591</a>
<a href="#L592">592</a>
<a href="#L593">593</a>
<a href="#L594">594</a>
<a href="#L595">595</a>
<a href="#L596">596</a>
<a href="#L597">597</a>
<a href="#L598">598</a>
<a href="#L599">599</a>
<a href="#L600">600</a>
<a href="#L601">601</a>
<a href="#L602">602</a>
<a href="#L603">603</a>
<a href="#L604">604</a>
<a href="#L605">605</a>
<a href="#L606">606</a>
<a href="#L607">607</a>
<a href="#L608">608</a>
<a href="#L609">609</a>
<a href="#L610">610</a>
<a href="#L611">611</a>
<a href="#L612">612</a>
<a href="#L613">613</a>
<a href="#L614">614</a>
<a href="#L615">615</a>
<a href="#L616">616</a>
<a href="#L617">617</a>
<a href="#L618">618</a>
<a href="#L619">619</a>
<a href="#L620">620</a>
<a href="#L621">621</a>
<a href="#L622">622</a>
<a href="#L623">623</a>
<a href="#L624">624</a>
<a href="#L625">625</a>
<a href="#L626">626</a>
<a href="#L627">627</a>
<a href="#L628">628</a>
<a href="#L629">629</a>
<a href="#L630">630</a>
<a href="#L631">631</a>
<a href="#L632">632</a>
<a href="#L633">633</a>
<a href="#L634">634</a>
<a href="#L635">635</a>
<a href="#L636">636</a>
<a href="#L637">637</a>
<a href="#L638">638</a>
<a href="#L639">639</a>
<a href="#L640">640</a>
<a href="#L641">641</a>
<a href="#L642">642</a>
<a href="#L643">643</a>
<a href="#L644">644</a>
<a href="#L645">645</a>
<a href="#L646">646</a>
<a href="#L647">647</a>
<a href="#L648">648</a>
<a href="#L649">649</a>
<a href="#L650">650</a>
<a href="#L651">651</a>
<a href="#L652">652</a>
<a href="#L653">653</a>
<a href="#L654">654</a>
<a href="#L655">655</a>
<a href="#L656">656</a>
<a href="#L657">657</a>
<a href="#L658">658</a>
<a href="#L659">659</a>
<a href="#L660">660</a>
<a href="#L661">661</a>
<a href="#L662">662</a>
<a href="#L663">663</a>
<a href="#L664">664</a>
<a href="#L665">665</a>
<a href="#L666">666</a>
<a href="#L667">667</a>
<a href="#L668">668</a>
<a href="#L669">669</a>
<a href="#L670">670</a>
<a href="#L671">671</a>
<a href="#L672">672</a>
<a href="#L673">673</a>
<a href="#L674">674</a>
<a href="#L675">675</a>
<a href="#L676">676</a>
<a href="#L677">677</a>
<a href="#L678">678</a>
<a href="#L679">679</a>
<a href="#L680">680</a>
<a href="#L681">681</a>
<a href="#L682">682</a>
<a href="#L683">683</a>
<a href="#L684">684</a>
<a href="#L685">685</a>
<a href="#L686">686</a>
<a href="#L687">687</a>
<a href="#L688">688</a>
<a href="#L689">689</a>
<a href="#L690">690</a>
<a href="#L691">691</a>
<a href="#L692">692</a>
<a href="#L693">693</a>
<a href="#L694">694</a>
<a href="#L695">695</a>
<a href="#L696">696</a>
<a href="#L697">697</a>
<a href="#L698">698</a>
<a href="#L699">699</a>
<a href="#L700">700</a>
<a href="#L701">701</a>
<a href="#L702">702</a>
<a href="#L703">703</a>
<a href="#L704">704</a>
<a href="#L705">705</a>
<a href="#L706">706</a>
<a href="#L707">707</a>
<a href="#L708">708</a>
<a href="#L709">709</a>
<a href="#L710">710</a>
<a href="#L711">711</a>
<a href="#L712">712</a>
<a href="#L713">713</a>
<a href="#L714">714</a>
<a href="#L715">715</a>
<a href="#L716">716</a>
<a href="#L717">717</a>
<a href="#L718">718</a>
<a href="#L719">719</a>
<a href="#L720">720</a>
<a href="#L721">721</a>
<a href="#L722">722</a>
<a href="#L723">723</a>
<a href="#L724">724</a>
<a href="#L725">725</a>
<a href="#L726">726</a>
<a href="#L727">727</a>
<a href="#L728">728</a>
<a href="#L729">729</a>
<a href="#L730">730</a>
<a href="#L731">731</a>
<a href="#L732">732</a>
<a href="#L733">733</a>
<a href="#L734">734</a>
<a href="#L735">735</a>
<a href="#L736">736</a>
<a href="#L737">737</a>
<a href="#L738">738</a>
<a href="#L739">739</a>
<a href="#L740">740</a>
<a href="#L741">741</a>
<a href="#L742">742</a>
<a href="#L743">743</a>
<a href="#L744">744</a>
<a href="#L745">745</a>
<a href="#L746">746</a>
<a href="#L747">747</a>
<a href="#L748">748</a>
<a href="#L749">749</a>
<a href="#L750">750</a>
<a href="#L751">751</a>
<a href="#L752">752</a>
<a href="#L753">753</a>
<a href="#L754">754</a>
<a href="#L755">755</a>
<a href="#L756">756</a>
<a href="#L757">757</a>
<a href="#L758">758</a>
<a href="#L759">759</a>
<a href="#L760">760</a>
<a href="#L761">761</a>
<a href="#L762">762</a>
<a href="#L763">763</a>
<a href="#L764">764</a>
<a href="#L765">765</a>
<a href="#L766">766</a>
<a href="#L767">767</a>
<a href="#L768">768</a>
<a href="#L769">769</a>
<a href="#L770">770</a>
<a href="#L771">771</a>
<a href="#L772">772</a>
<a href="#L773">773</a>
<a href="#L774">774</a>
<a href="#L775">775</a>
<a href="#L776">776</a>
<a href="#L777">777</a>
<a href="#L778">778</a>
<a href="#L779">779</a>
<a href="#L780">780</a>
<a href="#L781">781</a>
<a href="#L782">782</a>
<a href="#L783">783</a>
<a href="#L784">784</a>
<a href="#L785">785</a>
<a href="#L786">786</a>
<a href="#L787">787</a>
<a href="#L788">788</a>
<a href="#L789">789</a>
<a href="#L790">790</a>
<a href="#L791">791</a>
<a href="#L792">792</a>
<a href="#L793">793</a>
<a href="#L794">794</a>
<a href="#L795">795</a>
<a href="#L796">796</a>
<a href="#L797">797</a>
<a href="#L798">798</a>
<a href="#L799">799</a>
<a href="#L800">800</a>
<a href="#L801">801</a>
<a href="#L802">802</a>
<a href="#L803">803</a>
<a href="#L804">804</a>
<a href="#L805">805</a>
<a href="#L806">806</a>
<a href="#L807">807</a>
<a href="#L808">808</a>
<a href="#L809">809</a>
<a href="#L810">810</a>
<a href="#L811">811</a>
<a href="#L812">812</a>
<a href="#L813">813</a>
<a href="#L814">814</a>
<a href="#L815">815</a>
<a href="#L816">816</a>
<a href="#L817">817</a>
<a href="#L818">818</a>
<a href="#L819">819</a>
<a href="#L820">820</a>
<a href="#L821">821</a>
<a href="#L822">822</a>
<a href="#L823">823</a>
<a href="#L824">824</a>
<a href="#L825">825</a>
<a href="#L826">826</a>
<a href="#L827">827</a>
<a href="#L828">828</a>
<a href="#L829">829</a>
<a href="#L830">830</a>
<a href="#L831">831</a>
<a href="#L832">832</a>
<a href="#L833">833</a>
<a href="#L834">834</a>
<a href="#L835">835</a>
<a href="#L836">836</a>
<a href="#L837">837</a>
<a href="#L838">838</a>
<a href="#L839">839</a>
<a href="#L840">840</a>
<a href="#L841">841</a>
<a href="#L842">842</a>
<a href="#L843">843</a>
<a href="#L844">844</a>
<a href="#L845">845</a>
<a href="#L846">846</a>
<a href="#L847">847</a>
<a href="#L848">848</a>
<a href="#L849">849</a>
<a href="#L850">850</a>
<a href="#L851">851</a>
</pre>
        <pre id="code">
(**************************************************************************)
(*                                                                        *)
(*                                 OCaml                                  *)
(*                                                                        *)
(*             Xavier Leroy, projet Cristal, INRIA Rocquencourt           *)
(*                                                                        *)
(*   Copyright 1996 Institut National de Recherche en Informatique et     *)
(*     en Automatique.                                                    *)
(*                                                                        *)
(*   All rights reserved.  This file is distributed under the terms of    *)
(*   the GNU Lesser General Public License version 2.1, with the          *)
(*   special exception on linking described in the file LICENSE.          *)
(*                                                                        *)
(**************************************************************************)

(* Inclusion checks for the module language *)

open Misc
open Typedtree
open Types

type symptom =
    Missing_field of Ident.t * Location.t * string (* kind *)
  | Value_descriptions of Ident.t * value_description * value_description
  | Type_declarations of Ident.t * type_declaration
        * type_declaration * Includecore.type_mismatch
  | Extension_constructors of Ident.t * extension_constructor
        * extension_constructor * Includecore.type_mismatch
  | Module_types of module_type * module_type
  | Modtype_infos of Ident.t * modtype_declaration * modtype_declaration
  | Modtype_permutation of Types.module_type * Typedtree.module_coercion
  | Interface_mismatch of string * string
  | Class_type_declarations of
      Ident.t * class_type_declaration * class_type_declaration *
      Ctype.class_match_failure list
  | Class_declarations of
      Ident.t * class_declaration * class_declaration *
      Ctype.class_match_failure list
  | Unbound_modtype_path of Path.t
  | Unbound_module_path of Path.t
  | Invalid_module_alias of Path.t

type pos =
    Module of Ident.t | Modtype of Ident.t | Arg of Ident.t | Body of Ident.t
type error = pos list * Env.t * symptom

exception Error of error list

type mark =
  | Mark_both
  | Mark_positive
  | Mark_negative
  | Mark_neither

let negate_mark = <span data-count="1031">f</span>unction
  | Mark_both -&gt; Mark_both
  | Mark_positive -&gt; Mark_negative
  | Mark_negative -&gt; Mark_positive
  | Mark_neither -&gt; Mark_neither

let mark_positive = <span data-count="1031">f</span>unction
  | Mark_both | Mark_positive -&gt; true
  | Mark_negative | Mark_neither -&gt; false

(* All functions "blah env x1 x2" check that x1 is included in x2,
   i.e. that x1 is the type of an implementation that fulfills the
   specification x2. If not, Error is raised with a backtrace of the error. *)

(* Inclusion between value descriptions *)

let value_descriptions ~loc env ~mark cxt subst id vd1 vd2 =
  <span data-count="15320">C</span>mt_format.record_value_dependency vd1 vd2;
  <span data-count="15320">i</span>f mark_positive mark then
    <span data-count="14103">E</span>nv.mark_value_used (Ident.name id) vd1;
  <span data-count="15320">l</span>et vd2 = <span data-count="15320">S</span>ubst.value_description subst vd2 in
  <span data-count="15320">t</span>ry
    Includecore.value_descriptions ~loc env (Ident.name id) vd1 vd2
  with <span data-count="42">I</span>ncludecore.Dont_match -&gt;
    raise(Error[cxt, env, Value_descriptions(id, vd1, vd2)])

(* Inclusion between type declarations *)

let type_declarations ~loc env ~mark ?old_env:_ cxt subst id decl1 decl2 =
  <span data-count="6216">l</span>et mark = <span data-count="6216">m</span>ark_positive mark in
  <span data-count="6216">i</span>f mark then
    <span data-count="5871">E</span>nv.mark_type_used (Ident.name id) decl1;
  <span data-count="6216">l</span>et decl2 = <span data-count="6216">S</span>ubst.type_declaration subst decl2 in
  <span data-count="6216">m</span>atch
    Includecore.type_declarations ~loc env ~mark
      (Ident.name id) decl1 (Path.Pident id) decl2
  with
  | <span data-count="6169">N</span>one -&gt; ()
  | <span data-count="47">S</span>ome err -&gt;
      raise(Error[cxt, env, Type_declarations(id, decl1, decl2, err)])

(* Inclusion between extension constructors *)

let extension_constructors ~loc env ~mark cxt subst id ext1 ext2 =
  <span data-count="520">l</span>et mark = <span data-count="520">m</span>ark_positive mark in
  <span data-count="520">l</span>et ext2 = <span data-count="520">S</span>ubst.extension_constructor subst ext2 in
  <span data-count="520">m</span>atch Includecore.extension_constructors ~loc env ~mark id ext1 ext2 with
  | <span data-count="514">N</span>one -&gt; ()
  | <span data-count="6">S</span>ome err -&gt;
      raise(Error[cxt, env, Extension_constructors(id, ext1, ext2, err)])

(* Inclusion between class declarations *)

let class_type_declarations ~loc ~old_env:_ env cxt subst id decl1 decl2 =
  <span data-count="705">l</span>et decl2 = <span data-count="705">S</span>ubst.cltype_declaration subst decl2 in
  <span data-count="705">m</span>atch Includeclass.class_type_declarations ~loc env decl1 decl2 with
    <span data-count="699">[</span>]     -&gt; ()
  | <span data-count="6">r</span>eason -&gt;
      raise(Error[cxt, env,
                  Class_type_declarations(id, decl1, decl2, reason)])

let class_declarations ~old_env:_ env cxt subst id decl1 decl2 =
  <span data-count="545">l</span>et decl2 = <span data-count="545">S</span>ubst.class_declaration subst decl2 in
  <span data-count="545">m</span>atch Includeclass.class_declarations env decl1 decl2 with
    <span data-count="542">[</span>]     -&gt; ()
  | <span data-count="3">r</span>eason -&gt;
      raise(Error[cxt, env, Class_declarations(id, decl1, decl2, reason)])

(* Expand a module type identifier when possible *)

exception Dont_match

let may_expand_module_path env path =
  <span data-count="982">t</span>ry ignore (Env.find_modtype_expansion path env); <span data-count="945">t</span>rue
  with <span data-count="37">N</span>ot_found -&gt; false

let expand_module_path env cxt path =
  <span data-count="945">t</span>ry
    Env.find_modtype_expansion path env
  with <span data-count="0">N</span>ot_found -&gt;
    raise(Error[cxt, env, Unbound_modtype_path path])

let expand_module_alias env cxt path =
  <span data-count="665">t</span>ry (Env.find_module path env).md_type
  with <span data-count="0">N</span>ot_found -&gt;
    raise(Error[cxt, env, Unbound_module_path path])

(*
let rec normalize_module_path env cxt path =
  match expand_module_alias env cxt path with
    Mty_alias path' -&gt; normalize_module_path env cxt path'
  | _ -&gt; path
*)

(* Extract name, kind and ident from a signature item *)

type field_desc =
    Field_value of string
  | Field_type of string
  | Field_typext of string
  | Field_module of string
  | Field_modtype of string
  | Field_class of string
  | Field_classtype of string

let kind_of_field_desc = <span data-count="1031">f</span>unction
  | Field_value _ -&gt; "value"
  | Field_type _ -&gt; "type"
  | Field_typext _ -&gt; "extension constructor"
  | Field_module _ -&gt; "module"
  | Field_modtype _ -&gt; "module type"
  | Field_class _ -&gt; "class"
  | Field_classtype _ -&gt; "class type"

(** Map indexed by both field types and names.
    This avoids name clashes between different sorts of fields
    such as values and types. *)
module FieldMap = Map.Make(struct
    type t = field_desc
    let compare = <span data-count="1031">S</span>tdlib.compare
  end)

let item_ident_name = <span data-count="1031">f</span>unction
    Sig_value(id, d, _) -&gt; (id, d.val_loc, Field_value(Ident.name id))
  | Sig_type(id, d, _, _) -&gt; (id, d.type_loc, Field_type(Ident.name id))
  | Sig_typext(id, d, _, _) -&gt; (id, d.ext_loc, Field_typext(Ident.name id))
  | Sig_module(id, _, d, _, _) -&gt; (id, d.md_loc, Field_module(Ident.name id))
  | Sig_modtype(id, d, _) -&gt; (id, d.mtd_loc, Field_modtype(Ident.name id))
  | Sig_class(id, d, _, _) -&gt; (id, d.cty_loc, Field_class(Ident.name id))
  | Sig_class_type(id, d, _, _) -&gt;
      (id, d.clty_loc, Field_classtype(Ident.name id))

let is_runtime_component = <span data-count="1031">f</span>unction
  | Sig_value(_,{val_kind = Val_prim _}, _)
  | Sig_type(_,_,_,_)
  | Sig_module(_,Mp_absent,_,_,_)
  | Sig_modtype(_,_,_)
  | Sig_class_type(_,_,_,_) -&gt; false
  | Sig_value(_,_,_)
  | Sig_typext(_,_,_,_)
  | Sig_module(_,Mp_present,_,_,_)
  | Sig_class(_,_,_,_) -&gt; true

(* Print a coercion *)

let rec print_list pr ppf = <span data-count="0">f</span>unction
    <span data-count="0">[</span>] -&gt; ()
  | <span data-count="0">[</span>a] -&gt; pr ppf a
  | <span data-count="0">a</span> :: l -&gt; pr ppf a; <span data-count="0">F</span>ormat.fprintf ppf ";@ "; <span data-count="0">p</span>rint_list pr ppf l
let print_list pr ppf l =
  <span data-count="0">F</span>ormat.fprintf ppf "[@[%a@]]" (print_list pr) l

let rec print_coercion ppf c =
  <span data-count="0">l</span>et pr fmt = <span data-count="0">F</span>ormat.fprintf ppf fmt in
  <span data-count="0">m</span>atch c with
    <span data-count="0">T</span>coerce_none -&gt; pr "id"
  | <span data-count="0">T</span>coerce_structure (fl, nl) -&gt;
      pr "@[&lt;2&gt;struct@ %a@ %a@]"
        (print_list print_coercion2) fl
        (print_list print_coercion3) nl
  | <span data-count="0">T</span>coerce_functor (inp, out) -&gt;
      pr "@[&lt;2&gt;functor@ (%a)@ (%a)@]"
        print_coercion inp
        print_coercion out
  | <span data-count="0">T</span>coerce_primitive {pc_desc; pc_env = _; pc_type}  -&gt;
      pr "prim %s@ (%a)" pc_desc.Primitive.prim_name
        Printtyp.raw_type_expr pc_type
  | <span data-count="0">T</span>coerce_alias (_, p, c) -&gt;
      pr "@[&lt;2&gt;alias %a@ (%a)@]"
        Printtyp.path p
        print_coercion c
and print_coercion2 ppf (n, c) =
  <span data-count="0">F</span>ormat.fprintf ppf "@[%d,@ %a@]" n print_coercion c
and print_coercion3 ppf (i, n, c) =
  <span data-count="0">F</span>ormat.fprintf ppf "@[%s, %d,@ %a@]"
    (Ident.unique_name i) n print_coercion c

(* Simplify a structure coercion *)

let simplify_structure_coercion cc id_pos_list =
  <span data-count="8948">l</span>et rec is_identity_coercion pos = <span data-count="25103">f</span>unction
  | <span data-count="8818">[</span>] -&gt;
      true
  | <span data-count="16285">(</span>n, c) :: rem -&gt;
      <span data-count="16285">n</span> = pos &amp;&amp; <span data-count="32406">c</span> = Tcoerce_none &amp;&amp; <span data-count="16155">i</span>s_identity_coercion (pos + 1) rem in
  <span data-count="8948">i</span>f is_identity_coercion 0 cc
  then <span data-count="8818">T</span>coerce_none
  else <span data-count="130">T</span>coerce_structure (cc, id_pos_list)

(* Inclusion between module types.
   Return the restriction that transforms a value of the smaller type
   into a value of the bigger type. *)

let rec modtypes ~loc env ~mark cxt subst mty1 mty2 =
  <span data-count="5839">t</span>ry
    try_modtypes ~loc env ~mark cxt subst mty1 mty2
  with
    <span data-count="15">D</span>ont_match -&gt;
      raise(Error[cxt, env,
                  Module_types(mty1, Subst.modtype Make_local subst mty2)])
  | <span data-count="165">E</span>rror reasons as err -&gt;
      match mty1, mty2 with
        <span data-count="14">M</span>ty_alias _, _
      | <span data-count="0">_</span>, Mty_alias _ -&gt; raise err
      | <span data-count="151">_</span> -&gt;
          raise(Error((cxt, env,
                       Module_types(mty1, Subst.modtype Make_local subst mty2))
                      :: reasons))

and try_modtypes ~loc env ~mark cxt subst mty1 mty2 =
  <span data-count="6784">m</span>atch mty1, mty2 with
  | <span data-count="321">M</span>ty_alias p1, Mty_alias p2 -&gt;
      if Env.is_functor_arg p2 env then
        <span data-count="4">r</span>aise (Error[cxt, env, Invalid_module_alias p2]);
      <span data-count="317">i</span>f not (Path.same p1 p2) then <span data-count="82">b</span>egin
        let p1 = <span data-count="82">E</span>nv.normalize_module_path None env p1
        and p2 = <span data-count="82">E</span>nv.normalize_module_path None env
            (Subst.module_path subst p2)
        in
        <span data-count="82">i</span>f not (Path.same p1 p2) then <span data-count="2">r</span>aise Dont_match
      end;
      <span data-count="315">T</span>coerce_none
  | <span data-count="554">(</span>Mty_alias p1, _) -&gt; begin
      let p1 = <span data-count="554">t</span>ry
        Env.normalize_module_path (Some Location.none) env p1
      with <span data-count="0">E</span>nv.Error (Env.Missing_module (_, _, path)) -&gt;
        raise (Error[cxt, env, Unbound_module_path path])
      in
      <span data-count="554">l</span>et mty1 =
        <span data-count="554">M</span>type.strengthen ~aliasable:true env
          (expand_module_alias env cxt p1) p1
      in
      <span data-count="554">m</span>odtypes ~loc env ~mark cxt subst mty1 mty2
    end
  | <span data-count="237">(</span>Mty_ident p1, _) when <span data-count="267">m</span>ay_expand_module_path env p1 -&gt;
      try_modtypes ~loc env ~mark cxt subst
        (expand_module_path env cxt p1) mty2
  | <span data-count="737">(</span>_, Mty_ident _) -&gt;
      try_modtypes2 ~loc env ~mark cxt mty1 (Subst.modtype Keep subst mty2)
  | <span data-count="4526">(</span>Mty_signature sig1, Mty_signature sig2) -&gt;
      signatures ~loc env ~mark cxt subst sig1 sig2
  | <span data-count="23">(</span>Mty_functor(param1, None, res1), Mty_functor(_param2, None, res2)) -&gt;
    begin
      match modtypes ~loc env ~mark (Body param1::cxt) subst res1 res2 with
      | <span data-count="21">T</span>coerce_none -&gt; Tcoerce_none
      | <span data-count="0">c</span>c -&gt; Tcoerce_functor (Tcoerce_none, cc)
    end
  | <span data-count="380">(</span>Mty_functor(param1, Some arg1, res1),
     Mty_functor(param2, Some arg2, res2)) -&gt;
      let arg2' = <span data-count="380">S</span>ubst.modtype Keep subst arg2 in
      <span data-count="380">l</span>et cc_arg =
        <span data-count="380">m</span>odtypes ~loc env ~mark:(negate_mark mark)
          (Arg param1::cxt) Subst.identity arg2' arg1
      in
      <span data-count="378">l</span>et cc_res =
        <span data-count="378">m</span>odtypes ~loc (Env.add_module param1 Mp_present arg2' env) ~mark
          (Body param1::cxt)
          (Subst.add_module param2 (Path.Pident param1) subst)
          res1 res2
      in
      <span data-count="378">b</span>egin match (cc_arg, cc_res) with
          <span data-count="340">(</span>Tcoerce_none, Tcoerce_none) -&gt; Tcoerce_none
        | <span data-count="38">_</span> -&gt; Tcoerce_functor(cc_arg, cc_res)
      end
  | <span data-count="6">(</span>_, _) -&gt;
      raise Dont_match

and try_modtypes2 ~loc env ~mark cxt mty1 mty2 =
  (* mty2 is an identifier *)
  <span data-count="737">m</span>atch (mty1, mty2) with
    <span data-count="22">(</span>Mty_ident p1, Mty_ident p2)
    when <span data-count="30">P</span>ath.same (Env.normalize_path_prefix None env p1)
                   (Env.normalize_path_prefix None env p2) -&gt;
      Tcoerce_none
  | <span data-count="708">(</span>_, Mty_ident p2) when <span data-count="715">m</span>ay_expand_module_path env p2 -&gt;
      try_modtypes ~loc env ~mark cxt Subst.identity
        mty1 (expand_module_path env cxt p2)
  | <span data-count="7">(</span>_, _) -&gt;
      raise Dont_match

(* Inclusion between signatures *)

and signatures ~loc env ~mark cxt subst sig1 sig2 =
  (* Environment used to check inclusion of components *)
  <span data-count="9427">l</span>et new_env =
    <span data-count="9427">E</span>nv.add_signature sig1 (Env.in_signature true env) in
  (* Keep ids for module aliases *)
  <span data-count="9427">l</span>et (id_pos_list,_) =
    <span data-count="9427">L</span>ist.fold_left
      (fun (l,pos) -&gt; <span data-count="28880">f</span>unction
          <span data-count="2246">S</span>ig_module (id, Mp_present, _, _, _) -&gt;
            ((id,pos,Tcoerce_none)::l , pos+1)
        | <span data-count="26634">i</span>tem -&gt; (l, if is_runtime_component item then <span data-count="17925">p</span>os+1 else <span data-count="8709">p</span>os))
      ([], 0) sig1 in
  (* Build a table of the components of sig1, along with their positions.
     The table is indexed by kind and name of component *)
  <span data-count="9427">l</span>et rec build_component_table pos tbl = <span data-count="38307">f</span>unction
      <span data-count="9427">[</span>] -&gt; pos, tbl
    | <span data-count="198">(</span><span data-count="165">S</span>ig_value (_, _, Hidden)
      |<span data-count="13">S</span>ig_type (_, _, _, Hidden)
      |<span data-count="3">S</span>ig_typext (_, _, _, Hidden)
      |<span data-count="11">S</span>ig_module (_, _, _, _, Hidden)
      |<span data-count="3">S</span>ig_modtype (_, _, Hidden)
      |<span data-count="1">S</span>ig_class (_, _, _, Hidden)
      |<span data-count="2">S</span>ig_class_type (_, _, _, Hidden)
      ) as item :: rem -&gt;
        let pos = <span data-count="198">i</span>f is_runtime_component item then <span data-count="180">p</span>os + 1 else <span data-count="18">p</span>os in
        <span data-count="198">b</span>uild_component_table pos tbl rem (* do not pair private items. *)
    | <span data-count="28682">i</span>tem :: rem -&gt;
        let (id, _loc, name) = <span data-count="28682">i</span>tem_ident_name item in
        <span data-count="28682">l</span>et pos, nextpos =
          <span data-count="28682">i</span>f is_runtime_component item then <span data-count="19991">p</span>os, pos + 1
          else <span data-count="8691">-</span>1, pos
        in
        <span data-count="28682">b</span>uild_component_table nextpos
                              (FieldMap.add name (id, item, pos) tbl) rem in
  <span data-count="9427">l</span>et len1, comps1 =
    <span data-count="9427">b</span>uild_component_table 0 FieldMap.empty sig1 in
  <span data-count="9427">l</span>et len2 =
    <span data-count="9427">L</span>ist.fold_left
      (fun n i -&gt; <span data-count="26088">i</span>f is_runtime_component i then <span data-count="18153">n</span> + 1 else <span data-count="7935">n</span>)
      0
      sig2
  in
  (* Pair each component of sig2 with a component of sig1,
     identifying the names along the way.
     Return a coercion list indicating, for all run-time components
     of sig2, the position of the matching run-time components of sig1
     and the coercion to be applied to it. *)
  <span data-count="9427">l</span>et rec pair_components subst paired unpaired = <span data-count="35515">f</span>unction
      <span data-count="9427">[</span>] -&gt;
        begin match unpaired with
            <span data-count="9413">[</span>] -&gt;
              let cc =
                <span data-count="9413">s</span>ignature_components ~loc env ~mark new_env cxt subst
                  (List.rev paired)
              in
              <span data-count="9276">i</span>f len1 = len2 then (* see PR#5098 *)
                <span data-count="8948">s</span>implify_structure_coercion cc id_pos_list
              else
                <span data-count="328">T</span>coerce_structure (cc, id_pos_list)
          | <span data-count="14">_</span>  -&gt; raise(Error unpaired)
        end
    | <span data-count="26088">i</span>tem2 :: rem -&gt;
        let (id2, loc, name2) = <span data-count="26088">i</span>tem_ident_name item2 in
        <span data-count="26088">l</span>et name2, report =
          <span data-count="26088">m</span>atch item2, name2 with
            <span data-count="51">S</span>ig_type (_, {type_manifest=None}, _, _), Field_type s
            when <span data-count="3115">B</span>type.is_row_name s -&gt;
              (* Do not report in case of failure,
                 as the main type will generate an error *)
              Field_type (String.sub s 0 (String.length s - 4)), false
          | <span data-count="26037">_</span> -&gt; name2, true
        in
        <span data-count="26088">b</span>egin try
          let (id1, item1, pos1) = <span data-count="26088">F</span>ieldMap.find name2 comps1 in
          <span data-count="26074">l</span>et new_subst =
            <span data-count="26074">m</span>atch item2 with
              <span data-count="6063">S</span>ig_type _ -&gt;
                Subst.add_type id2 (Path.Pident id1) subst
            | <span data-count="2432">S</span>ig_module _ -&gt;
                Subst.add_module id2 (Path.Pident id1) subst
            | <span data-count="484">S</span>ig_modtype _ -&gt;
                Subst.add_modtype id2 (Mty_ident (Path.Pident id1)) subst
            | <span data-count="15322">S</span>ig_value _ | <span data-count="520">S</span>ig_typext _
            | <span data-count="545">S</span>ig_class _ | <span data-count="708">S</span>ig_class_type _ -&gt;
                subst
          in
          <span data-count="26074">p</span>air_components new_subst
            ((item1, item2, pos1) :: paired) unpaired rem
        with <span data-count="14">N</span>ot_found -&gt;
          let unpaired =
            <span data-count="14">i</span>f report then
              <span data-count="14">(</span>cxt, env, Missing_field (id2, loc, kind_of_field_desc name2)) ::
              unpaired
            else <span data-count="0">u</span>npaired in
          <span data-count="14">p</span>air_components subst paired unpaired rem
        end in
  (* Do the pairing and checking, and return the final coercion *)
  <span data-count="9427">p</span>air_components subst [] [] sig2

(* Inclusion between signature components *)

and signature_components ~loc old_env ~mark env cxt subst paired =
  <span data-count="35311">l</span>et comps_rec rem =
    <span data-count="25898">s</span>ignature_components ~loc old_env ~mark env cxt subst rem
  in
  <span data-count="35311">m</span>atch paired with
    <span data-count="9276">[</span>] -&gt; []
  | <span data-count="15320">(</span>Sig_value(id1, valdecl1, _), Sig_value(_id2, valdecl2, _), pos) :: rem -&gt;
      let cc =
        <span data-count="15320">v</span>alue_descriptions ~loc env ~mark cxt subst id1 valdecl1 valdecl2
      in
      <span data-count="15278">b</span>egin match valdecl2.val_kind with
        <span data-count="383">V</span>al_prim _ -&gt; comps_rec rem
      | <span data-count="14895">_</span> -&gt; (pos, cc) :: comps_rec rem
      end
  | <span data-count="6029">(</span>Sig_type(id1, tydecl1, _, _), Sig_type(_id2, tydecl2, _, _), _pos) :: rem
    -&gt;
      type_declarations ~loc ~old_env env ~mark cxt subst id1 tydecl1 tydecl2;
      <span data-count="5985">c</span>omps_rec rem
  | <span data-count="520">(</span>Sig_typext(id1, ext1, _, _), Sig_typext(_id2, ext2, _, _), pos)
    :: rem -&gt;
      extension_constructors ~loc env ~mark cxt subst id1 ext1 ext2;
      <span data-count="514">(</span>pos, Tcoerce_none) :: comps_rec rem
  | <span data-count="2432">(</span>Sig_module(id1, pres1, mty1, _, _),
     Sig_module(_id2, pres2, mty2, _, _), pos) :: rem -&gt; begin
      let cc = <span data-count="2432">m</span>odule_declarations ~loc env ~mark cxt subst id1 mty1 mty2 in
      <span data-count="2424">l</span>et rem = <span data-count="2424">c</span>omps_rec rem in
      <span data-count="2422">m</span>atch pres1, pres2, mty1.md_type with
      | <span data-count="2105">M</span>p_present, Mp_present, _ -&gt; (pos, cc) :: rem
      | <span data-count="271">_</span>, Mp_absent, _ -&gt; rem
      | <span data-count="46">M</span>p_absent, Mp_present, Mty_alias p1 -&gt;
          (pos, Tcoerce_alias (env, p1, cc)) :: rem
      | Mp_absent, Mp_present, _ -&gt; assert false
    end
  | <span data-count="484">(</span>Sig_modtype(id1, info1, _), Sig_modtype(_id2, info2, _), _pos) :: rem -&gt;
      modtype_infos ~loc env ~mark cxt subst id1 info1 info2;
      <span data-count="456">c</span>omps_rec rem
  | <span data-count="545">(</span>Sig_class(id1, decl1, _, _), Sig_class(_id2, decl2, _, _), pos) :: rem -&gt;
      class_declarations ~old_env env cxt subst id1 decl1 decl2;
      <span data-count="542">(</span>pos, Tcoerce_none) :: comps_rec rem
  | <span data-count="705">(</span>Sig_class_type(id1, info1, _, _),
     Sig_class_type(_id2, info2, _, _), _pos) :: rem -&gt;
      class_type_declarations ~loc ~old_env env cxt subst id1 info1 info2;
      <span data-count="699">c</span>omps_rec rem
  | _ -&gt;
      assert false

and module_declarations ~loc env ~mark cxt subst id1 md1 md2 =
  <span data-count="2432">B</span>uiltin_attributes.check_alerts_inclusion
    ~def:md1.md_loc
    ~use:md2.md_loc
    loc
    md1.md_attributes md2.md_attributes
    (Ident.name id1);
  <span data-count="2432">l</span>et p1 = <span data-count="2432">P</span>ath.Pident id1 in
  <span data-count="2432">i</span>f mark_positive mark then
    <span data-count="2375">E</span>nv.mark_module_used (Ident.name id1) md1.md_loc;
  <span data-count="2432">m</span>odtypes ~loc env ~mark (Module id1::cxt) subst
    (Mtype.strengthen ~aliasable:true env md1.md_type p1) md2.md_type

(* Inclusion between module type specifications *)

and modtype_infos ~loc env ~mark cxt subst id info1 info2 =
  <span data-count="484">B</span>uiltin_attributes.check_alerts_inclusion
    ~def:info1.mtd_loc
    ~use:info2.mtd_loc
    loc
    info1.mtd_attributes info2.mtd_attributes
    (Ident.name id);
  <span data-count="484">l</span>et info2 = <span data-count="484">S</span>ubst.modtype_declaration Keep subst info2 in
  <span data-count="484">l</span>et cxt' = <span data-count="484">M</span>odtype id :: cxt in
  <span data-count="484">t</span>ry
    match (info1.mtd_type, info2.mtd_type) with
      <span data-count="43">(</span>None, None) -&gt; ()
    | <span data-count="9">(</span>Some _, None) -&gt; ()
    | <span data-count="432">(</span>Some mty1, Some mty2) -&gt;
        check_modtype_equiv ~loc env ~mark cxt' mty1 mty2
    | <span data-count="0">(</span>None, Some mty2) -&gt;
        check_modtype_equiv ~loc env ~mark cxt' (Mty_ident(Path.Pident id)) mty2
  with <span data-count="28">E</span>rror reasons -&gt;
    raise(Error((cxt, env, Modtype_infos(id, info1, info2)) :: reasons))

and check_modtype_equiv ~loc env ~mark cxt mty1 mty2 =
  <span data-count="432">m</span>atch
    (modtypes ~loc env ~mark cxt Subst.identity mty1 mty2,
     modtypes ~loc env ~mark:(negate_mark mark) cxt Subst.identity mty2 mty1)
  with
    <span data-count="404">(</span>Tcoerce_none, Tcoerce_none) -&gt; ()
  | <span data-count="24">(</span>c1, _c2) -&gt;
      (* Format.eprintf "@[c1 = %a@ c2 = %a@]@."
        print_coercion _c1 print_coercion _c2; *)
      raise(Error [cxt, env, Modtype_permutation (mty1, c1)])

(* Simplified inclusion check between module types (for Env) *)

let can_alias env path =
  <span data-count="121">l</span>et rec no_apply = <span data-count="121">f</span>unction
    | <span data-count="121">P</span>ath.Pident _ -&gt; true
    | <span data-count="11">P</span>ath.Pdot(p, _) -&gt; no_apply p
    | <span data-count="0">P</span>ath.Papply _ -&gt; false
  in
  <span data-count="242">n</span>o_apply path &amp;&amp; <span data-count="121">n</span>ot (Env.is_functor_arg path env)

let check_modtype_inclusion ~loc env mty1 path1 mty2 =
  <span data-count="121">l</span>et aliasable = <span data-count="121">c</span>an_alias env path1 in
  <span data-count="121">i</span>gnore(modtypes ~loc env ~mark:Mark_both [] Subst.identity
           (Mtype.strengthen ~aliasable env mty1 path1) mty2)

let () =
  <span data-count="1031">E</span>nv.check_modtype_inclusion := (fun ~loc a b c d -&gt;
    <span data-count="113">t</span>ry (check_modtype_inclusion ~loc a b c d : unit)
    with <span data-count="8">E</span>rror _ -&gt; raise Not_found)

(* Check that an implementation of a compilation unit meets its
   interface. *)

let compunit env ?(mark=<span data-count="0">M</span>ark_both) impl_name impl_sig intf_name intf_sig =
  <span data-count="494">t</span>ry
    signatures ~loc:(Location.in_file impl_name) env ~mark []
      Subst.identity impl_sig intf_sig
  with <span data-count="0">E</span>rror reasons -&gt;
    raise(Error(([], Env.empty,Interface_mismatch(impl_name, intf_name))
                :: reasons))

(* Hide the context and substitution parameters to the outside world *)

let modtypes ~loc env ?(mark=<span data-count="541">M</span>ark_both) mty1 mty2 =
  <span data-count="1091">m</span>odtypes ~loc env ~mark [] Subst.identity mty1 mty2
let signatures env ?(mark=<span data-count="4407">M</span>ark_both) sig1 sig2 =
  <span data-count="4407">s</span>ignatures ~loc:Location.none env ~mark [] Subst.identity sig1 sig2
let type_declarations ~loc env ?(mark=<span data-count="187">M</span>ark_both) id decl1 decl2 =
  <span data-count="187">t</span>ype_declarations ~loc env ~mark [] Subst.identity id decl1 decl2

(*
let modtypes env m1 m2 =
  let c = modtypes env m1 m2 in
  Format.eprintf "@[&lt;2&gt;modtypes@ %a@ %a =@ %a@]@."
    Printtyp.modtype m1 Printtyp.modtype m2
    print_coercion c;
  c
*)

(* Error report *)

module Illegal_permutation = struct
  (** Extraction of information in case of illegal permutation
      in a module type *)

  (** When examining coercions, we only have runtime component indices,
      we use thus a limited version of {!pos}. *)
  type coerce_pos =
    | Item of int
    | InArg
    | InBody

  let either f x g y = <span data-count="66">m</span>atch f x with
    | <span data-count="22">N</span>one -&gt; g y
    | <span data-count="44">S</span>ome _ as v -&gt; v

  (** We extract a lone transposition from a full tree of permutations. *)
  let rec transposition_under path = function
    | <span data-count="38">T</span>coerce_structure(c,_) -&gt;
        either
          (not_fixpoint path 0) c
          (first_non_id path 0) c
    | <span data-count="14">T</span>coerce_functor(arg,res) -&gt;
        either
          (transposition_under (InArg::path)) arg
          (transposition_under (InBody::path)) res
    | <span data-count="8">T</span>coerce_none -&gt; None
    | Tcoerce_alias _ | Tcoerce_primitive _ -&gt;
        (* these coercions are not inversible, and raise an error earlier when
           checking for module type equivalence *)
        assert false
  (* we search the first point which is not invariant at the current level *)
  and not_fixpoint path pos = <span data-count="58">f</span>unction
    | <span data-count="14">[</span>] -&gt; None
    | <span data-count="44">(</span>n, _) :: q -&gt;
        if n = pos then
          <span data-count="20">n</span>ot_fixpoint path (pos+1) q
        else
          <span data-count="24">S</span>ome(List.rev path, pos, n)
  (* we search the first item with a non-identity inner coercion *)
  and first_non_id path pos = <span data-count="52">f</span>unction
    | <span data-count="0">[</span>] -&gt; None
    | <span data-count="0">(</span>_,Tcoerce_none) :: q -&gt; first_non_id path (pos + 1) q
    | <span data-count="14">(</span>_,c) :: q -&gt;
        either
          (transposition_under (Item pos :: path)) c
          (first_non_id path (pos + 1)) q

  let transposition c =
    match transposition_under [] c with
    | <span data-count="0">N</span>one -&gt; raise Not_found
    | <span data-count="24">S</span>ome x -&gt; x

  let rec runtime_item k = function
    | <span data-count="0">[</span>] -&gt; raise Not_found
    | <span data-count="166">i</span>tem :: q -&gt;
        if not(is_runtime_component item) then
          <span data-count="68">r</span>untime_item k q
        else <span data-count="98">i</span>f k = 0 then
          <span data-count="62">i</span>tem
        else
          <span data-count="36">r</span>untime_item (k-1) q

  (* Find module type at position [path] and convert the [coerce_pos] path to
     a [pos] path *)
  let rec find env ctx path mt = <span data-count="66">m</span>atch mt, path with
    | <span data-count="14">(</span><span data-count="14">M</span>ty_ident p | <span data-count="0">M</span>ty_alias p), _ -&gt;
        begin match (Env.find_modtype p env).mtd_type with
        | <span data-count="0">N</span>one -&gt; raise Not_found
        | <span data-count="14">S</span>ome mt -&gt; find env ctx path mt
        end
    | <span data-count="24">M</span>ty_signature s , [] -&gt; List.rev ctx, s
    | <span data-count="14">M</span>ty_signature s, Item k :: q -&gt;
        begin match runtime_item k s with
        | <span data-count="14">S</span>ig_module (id, _, md,_,_) -&gt; find env (Module id :: ctx) q md.md_type
        | <span data-count="0">_</span> -&gt; raise Not_found
        end
    | <span data-count="6">M</span>ty_functor(x,Some mt,_), InArg :: q -&gt; find env (Arg x :: ctx) q mt
    | <span data-count="8">M</span>ty_functor(x,_,mt), InBody :: q -&gt; find env (Body x :: ctx) q mt
    | <span data-count="0">_</span> -&gt; raise Not_found

  let find env path mt = <span data-count="24">f</span>ind env [] path mt
  let item mt k = <span data-count="48">i</span>tem_ident_name (runtime_item k mt)

  let pp_item ppf (id,_,kind) =
    <span data-count="48">F</span>ormat.fprintf ppf "%s %S" (kind_of_field_desc kind) (Ident.name id)

  let pp ctx_printer env ppf (mty,c) =
    <span data-count="24">t</span>ry
      let p, k, l = <span data-count="24">t</span>ransposition c in
      <span data-count="24">l</span>et ctx, mt = <span data-count="24">f</span>ind env p mty in
      <span data-count="24">F</span>ormat.fprintf ppf
        "@[&lt;hv 2&gt;Illegal permutation of runtime components in a module type.@ \
         @[For example,@ %a@[the %a@ and the %a are not in the same order@ \
         in the expected and actual module types.@]@]"
        ctx_printer ctx pp_item (item mt k) pp_item (item mt l)
    with <span data-count="0">N</span>ot_found -&gt; (* this should not happen *)
      Format.fprintf ppf
        "Illegal permutation of runtime components in a module type."

end

open Format

let show_loc msg ppf loc =
  <span data-count="190">l</span>et pos = <span data-count="190">l</span>oc.Location.loc_start in
  <span data-count="190">i</span>f List.mem pos.Lexing.pos_fname [""; "_none_"; "//toplevel//"] then <span data-count="174">(</span>)
  else <span data-count="16">f</span>printf ppf "@\n@[&lt;2&gt;%a:@ %s@]" Location.print_loc loc msg

let show_locs ppf (loc1, loc2) =
  <span data-count="91">s</span>how_loc "Expected declaration" ppf loc2;
  <span data-count="91">s</span>how_loc "Actual declaration" ppf loc1

let path_of_context = <span data-count="1031">f</span>unction
    Module id :: rem -&gt;
      let rec subm path = <span data-count="10">f</span>unction
        | <span data-count="10">[</span>] -&gt; path
        | <span data-count="0">M</span>odule id :: rem -&gt; subm (Path.Pdot (path, Ident.name id)) rem
        | _ -&gt; assert false
      in <span data-count="10">s</span>ubm (Path.Pident id) rem
  | _ -&gt; assert false


let rec context ppf = function
    <span data-count="16">M</span>odule id :: rem -&gt;
      fprintf ppf "@[&lt;2&gt;module %a%a@]" Printtyp.ident id args rem
  | <span data-count="34">M</span>odtype id :: rem -&gt;
      fprintf ppf "@[&lt;2&gt;module type %a =@ %a@]"
        Printtyp.ident id context_mty rem
  | <span data-count="6">B</span>ody x :: rem -&gt;
      fprintf ppf "functor (%s) -&gt;@ %a" (argname x) context_mty rem
  | <span data-count="2">A</span>rg x :: rem -&gt;
      fprintf ppf "functor (%a : %a) -&gt; ..." Printtyp.ident x context_mty rem
  | <span data-count="44">[</span>] -&gt;
      fprintf ppf "&lt;here&gt;"
and context_mty ppf = function
    <span data-count="14">(</span><span data-count="12">M</span>odule _ | <span data-count="2">M</span>odtype _) :: _ as rem -&gt;
      fprintf ppf "@[&lt;2&gt;sig@ %a@;&lt;1 -2&gt;end@]" context rem
  | <span data-count="44">c</span>xt -&gt; context ppf cxt
and args ppf = function
    <span data-count="6">B</span>ody x :: rem -&gt;
      fprintf ppf "(%s)%a" (argname x) args rem
  | <span data-count="6">A</span>rg x :: rem -&gt;
      fprintf ppf "(%a :@ %a) : ..." Printtyp.ident x context_mty rem
  | <span data-count="10">c</span>xt -&gt;
      fprintf ppf " :@ %a" context_mty cxt
and argname x =
  let s = <span data-count="12">I</span>dent.name x in
  <span data-count="12">i</span>f s = "*" then <span data-count="4">"</span>" else <span data-count="8">s</span>

let alt_context ppf cxt =
  <span data-count="24">i</span>f cxt = [] then <span data-count="16">(</span>) else
  <span data-count="8">i</span>f List.for_all (function <span data-count="8">M</span>odule _ -&gt; true | <span data-count="6">_</span> -&gt; false) cxt then
    <span data-count="2">f</span>printf ppf "in module %a,@ " Printtyp.path (path_of_context cxt)
  else
    <span data-count="6">f</span>printf ppf "@[&lt;hv 2&gt;at position@ %a,@]@ " context cxt

let context ppf cxt =
  <span data-count="315">i</span>f cxt = [] then <span data-count="269">(</span>) else
  <span data-count="46">i</span>f List.for_all (function <span data-count="10">M</span>odule _ -&gt; true | <span data-count="38">_</span> -&gt; false) cxt then
    <span data-count="8">f</span>printf ppf "In module %a:@ " Printtyp.path (path_of_context cxt)
  else
    <span data-count="38">f</span>printf ppf "@[&lt;hv 2&gt;At position@ %a@]@ " context cxt

let include_err env ppf = <span data-count="315">f</span>unction
  | <span data-count="8">M</span>issing_field (id, loc, kind) -&gt;
      fprintf ppf "The %s `%a' is required but not provided"
        kind Printtyp.ident id;
      <span data-count="8">s</span>how_loc "Expected declaration" ppf loc
  | <span data-count="38">V</span>alue_descriptions(id, d1, d2) -&gt;
      fprintf ppf
        "@[&lt;hv 2&gt;Values do not match:@ %a@;&lt;1 -2&gt;is not included in@ %a@]"
        !Oprint.out_sig_item (Printtyp.tree_of_value_description id d1)
        !Oprint.out_sig_item (Printtyp.tree_of_value_description id d2);
      <span data-count="38">s</span>how_locs ppf (d1.val_loc, d2.val_loc)
  | <span data-count="47">T</span>ype_declarations(id, d1, d2, err) -&gt;
      fprintf ppf "@[&lt;v&gt;@[&lt;hv&gt;%s:@;&lt;1 2&gt;%a@ %s@;&lt;1 2&gt;%a@]%a%a@]"
        "Type declarations do not match"
        !Oprint.out_sig_item
        (Printtyp.tree_of_type_declaration id d1 Trec_first)
        "is not included in"
        !Oprint.out_sig_item
        (Printtyp.tree_of_type_declaration id d2 Trec_first)
        show_locs (d1.type_loc, d2.type_loc)
        (Includecore.report_type_mismatch
           "the first" "the second" "declaration") err
  | <span data-count="6">E</span>xtension_constructors(id, x1, x2, err) -&gt;
      fprintf ppf "@[&lt;v&gt;@[&lt;hv&gt;%s:@;&lt;1 2&gt;%a@ %s@;&lt;1 2&gt;%a@]%a%a@]"
        "Extension declarations do not match"
        !Oprint.out_sig_item
        (Printtyp.tree_of_extension_constructor id x1 Text_first)
        "is not included in"
        !Oprint.out_sig_item
        (Printtyp.tree_of_extension_constructor id x2 Text_first)
        show_locs (x1.ext_loc, x2.ext_loc)
        (Includecore.report_type_mismatch
           "the first" "the second" "declaration") err
  | <span data-count="151">M</span>odule_types(mty1, mty2)-&gt;
      fprintf ppf
       "@[&lt;hv 2&gt;Modules do not match:@ \
        %a@;&lt;1 -2&gt;is not included in@ %a@]"
      !Oprint.out_module_type (Printtyp.tree_of_modtype mty1)
      !Oprint.out_module_type (Printtyp.tree_of_modtype mty2)
  | <span data-count="28">M</span>odtype_infos(id, d1, d2) -&gt;
      fprintf ppf
       "@[&lt;hv 2&gt;Module type declarations do not match:@ \
        %a@;&lt;1 -2&gt;does not match@ %a@]"
      !Oprint.out_sig_item (Printtyp.tree_of_modtype_declaration id d1)
      !Oprint.out_sig_item (Printtyp.tree_of_modtype_declaration id d2)
  | <span data-count="24">M</span>odtype_permutation (mty,c) -&gt;
      Illegal_permutation.pp alt_context env ppf (mty,c)
  | <span data-count="0">I</span>nterface_mismatch(impl_name, intf_name) -&gt;
      fprintf ppf "@[The implementation %s@ does not match the interface %s:"
       impl_name intf_name
  | <span data-count="6">C</span>lass_type_declarations(id, d1, d2, reason) -&gt;
      fprintf ppf
       "@[&lt;hv 2&gt;Class type declarations do not match:@ \
        %a@;&lt;1 -2&gt;does not match@ %a@]@ %a"
       !Oprint.out_sig_item
       (Printtyp.tree_of_cltype_declaration id d1 Trec_first)
       !Oprint.out_sig_item
       (Printtyp.tree_of_cltype_declaration id d2 Trec_first)
      Includeclass.report_error reason
  | <span data-count="3">C</span>lass_declarations(id, d1, d2, reason) -&gt;
      fprintf ppf
       "@[&lt;hv 2&gt;Class declarations do not match:@ \
        %a@;&lt;1 -2&gt;does not match@ %a@]@ %a"
      !Oprint.out_sig_item (Printtyp.tree_of_class_declaration id d1 Trec_first)
      !Oprint.out_sig_item (Printtyp.tree_of_class_declaration id d2 Trec_first)
      Includeclass.report_error reason
  | <span data-count="0">U</span>nbound_modtype_path path -&gt;
      fprintf ppf "Unbound module type %a" Printtyp.path path
  | <span data-count="0">U</span>nbound_module_path path -&gt;
      fprintf ppf "Unbound module %a" Printtyp.path path
  | <span data-count="4">I</span>nvalid_module_alias path -&gt;
      fprintf ppf "Module %a cannot be aliased" Printtyp.path path

let include_err ppf (cxt, env, err) =
  <span data-count="315">P</span>rinttyp.wrap_printing_env ~error:true env (fun () -&gt;
    <span data-count="315">f</span>printf ppf "@[&lt;v&gt;%a%a@]" context (List.rev cxt) (include_err env) err)

let buffer = <span data-count="1031">r</span>ef Bytes.empty
let is_big obj =
  let size = <span data-count="169">!</span>Clflags.error_size in
  <span data-count="338">s</span>ize &gt; 0 &amp;&amp;
  <span data-count="9">b</span>egin
    if Bytes.length !buffer &lt; size then <span data-count="7">b</span>uffer := Bytes.create size;
    <span data-count="9">t</span>ry ignore (Marshal.to_buffer !buffer 0 size obj []); <span data-count="8">f</span>alse
    with <span data-count="1">_</span> -&gt; true
  end

let report_error ppf errs =
  <span data-count="147">i</span>f errs = [] then <span data-count="0">(</span>) else
  <span data-count="147">l</span>et (errs , err) = <span data-count="147">s</span>plit_last errs in
  <span data-count="147">l</span>et pe = <span data-count="147">r</span>ef true in
  <span data-count="147">l</span>et include_err' ppf (_,_,obj as err) =
    <span data-count="169">i</span>f not (is_big obj) then <span data-count="168">f</span>printf ppf "%a@ " include_err err
    else <span data-count="1">i</span>f !pe then <span data-count="1">(</span>fprintf ppf "...@ "; <span data-count="1">p</span>e := false)
  in
  <span data-count="147">l</span>et print_errs ppf = <span data-count="147">L</span>ist.iter (include_err' ppf) in
  <span data-count="147">P</span>rinttyp.Conflicts.reset();
  <span data-count="147">f</span>printf ppf "@[&lt;v&gt;%a%a%t@]" print_errs errs include_err err
    Printtyp.Conflicts.print

(* We could do a better job to split the individual error items
   as sub-messages of the main interface mismatch on the whole unit. *)
let () =
  <span data-count="1031">L</span>ocation.register_error_of_exn
    (function
      | <span data-count="4">E</span>rror err -&gt; Some (Location.error_of_printer_file report_error err)
      | <span data-count="39">_</span> -&gt; None
    )
</pre>
      </div>
    </div>
    <div id="footer">Generated on 2019-08-08 13:34:29 by <a href="https://github.com/aantron/bisect_ppx">Bisect_ppx</a> 1.4.1</div>
    <script src="../coverage.js"></script>
  </body>
</html>
